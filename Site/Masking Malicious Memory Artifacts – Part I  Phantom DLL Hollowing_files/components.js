define("components",["lodash","coreUtils","santa-components","componentsCore","prop-types","skins","zepto","reactDOM","experiment","santa-core-utils","create-react-class","image-client-api","textCommon","backgroundCommon","galleriesCommon","displayer","imageZoom"],function(e,t,i,n,s,o,a,r,p,l,d,c,u,h,m,g,y){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=426)}({0:function(t,i){t.exports=e},1:function(e,i){e.exports=t},10:function(e,t){e.exports=l},120:function(e,t,i){var n,s;n=[i(0),i(1),i(90),i(432),i(433)],void 0===(s=function(e,t,i,n,s){"use strict";var o=t.mediaConsts;return{balata:i,defaultMediaStyle:o.defaultMediaStyle,popupMediaStyle:o.popupMediaStyle,mediaLogicMixins:{fill:n,mediaPlayer:s},mediaBehaviors:{fill:{play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"playPreview"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"}},mediaPlayer:{togglePlay:{methodName:"togglePlayMedia"},play:{methodName:"playMedia",params:[{name:"time",defaultValue:-1}]},playPreview:{methodName:"previewMedia"},pause:{methodName:"pauseMedia",params:[{name:"time",defaultValue:-1}]},stop:{methodName:"stopMedia"},setVolume:{methodName:"setMediaVolume",params:["volume"]},mute:{methodName:"muteMedia"},unMute:{methodName:"unMuteMedia"},seek:{methodName:"seekMedia",params:["time"]},seekStart:{methodName:"startSeekMedia"},seekEnd:{methodName:"endSeekMedia",params:["time"]},enterFullScreen:{methodName:"enterFullscreen"},exitFullScreen:{methodName:"exitFullscreen"}}}}}.apply(t,n))||(e.exports=s)},13:function(e,t){e.exports=d},179:function(e,t,i){var n,s;n=[i(0),i(2),i(4),i(3),i(7)],void 0===(s=function(e,t,i,n,s){"use strict";var o={displayName:"MenuButton",propTypes:{isMobileView:t.santaTypesDefinitions.isMobileView,isMobileDevice:t.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:t.santaTypesDefinitions.Device.isTabletDevice,compProp:t.santaTypesDefinitions.Component.compProp,compData:t.santaTypesDefinitions.Component.compData,style:t.santaTypesDefinitions.Component.style,refInParent:i.string.isRequired,isContainer:i.bool,isSelected:i.bool,display:i.string,positionInList:i.string,dir:i.string,mouseEnterHandler:i.func.isRequired,mouseLeaveHandler:i.func.isRequired,onMouseClick:i.func.isRequired,isDropDownButton:i.bool,parentId:i.string},mixins:[n.mixins.skinBasedComp,n.mixins.skinInfo],getInitialState:function(){return{$container:this.props.isContainer?"drop":"menu",$selected:this.props.isSelected?"selected":"",$state:"idle",$type:this.props.compData.link?"link":"header",$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice()?"mobile":"notMobile"}},componentWillReceiveProps:function(e){this.setState({$selected:e.isSelected?"selected":""})},getSkinProperties:function(){var i,s=this.props.compData,o=this.props.compProp.alignText,a={parentConst:t.utils.createReactElement.bind(null,"a"),onClick:this.onMouseClick,"data-listposition":this.props.positionInList,tabIndex:s.link?void 0:"0"};return this.props.isDropDownButton||e.assign(a,{"aria-haspopup":this.props["aria-haspopup"]}),"mobile"!==this.state.$mobile&&e.assign(a,{onMouseEnter:this.openSubMenu,onMouseLeave:this.closeSubMenu,onFocus:this.openSubMenu,onBlur:this.closeSubMenu,onKeyDown:n.utils.accessibility.keyboardInteractions.activateBySpaceButton}),"__more__"===this.props.refInParent&&e.assign(a,{tabIndex:0}),s.link&&e.merge(a,s.link.render),{"":{tagName:this.props.tagName||"div","data-direction":this.props.direction,"data-listposition":this.props.positionInList,"data-parent-id":this.props.parentId,"data-data-id":this.props.dataId},linkElement:a,bg:{style:{textAlign:o}},label:{children:(i=s.label,(i=i&&i.trim())||"Â "),dir:this.props.dir,style:{textAlign:o}}}},openSubMenu:function(){(this.props.compData.link||"__more__"===this.props.refInParent)&&this.setState({$state:"over"});var e=s.findDOMNode(this);this.props.mouseEnterHandler(this.props.refInParent,e.getAttribute("data-listposition"))},closeSubMenu:function(){this.props.isDropDownButton&&this.setIdleState(),this.props.mouseLeaveHandler(this.props.refInParent)},onMouseClick:function(e){"notMobile"!==this.state.$mobile&&this.props.onMouseClick(e,this.props.refInParent,this.props.isDropDownButton)},setIdleState:function(){this.setState({$state:"idle"})}};return n.compRegistrar.register("core.components.MenuButton",o),o}.apply(t,n))||(e.exports=s)},180:function(e,t,i){var n,s;n=[i(0),i(1),i(3)],void 0===(s=function(e,t,i){"use strict";return{registerCommonLanguageRequirement:function(n,s){i.dataRequirementsCheckerRegistrar.registerCheckerForCompType(n,function(i,o){var a=s(i,o);return e.compact([t.translationsLoader.getRequest(i,a,{initiator:n})])})}}}.apply(t,n))||(e.exports=s)},2:function(e,t){e.exports=i},21:function(e,t){e.exports=c},27:function(e,t){e.exports=u},3:function(e,t){e.exports=n},4:function(e,t){e.exports=s},426:function(e,t,i){var n,s;n=[i(0),i(3),i(2),i(5),i(69),i(427),i(428),i(90),i(429),i(431),i(120),i(180),i(434),i(435),i(436),i(438),i(441),i(443),i(444),i(445),i(446),i(447),i(448),i(451),i(179),i(453),i(60),i(46)],void 0===(s=function(e,t,i,n,s,o,a,r,p,l,d,c,u){"use strict";t.compRegistrar.register(i.components.MasterPage.compType,i.components.MasterPage),t.compRegistrar.register(i.components.HeaderContainer.compType,i.components.HeaderContainer),t.compRegistrar.register(i.components.FooterContainer.compType,i.components.FooterContainer),t.compRegistrar.register(i.components.Video.compType,i.components.Video),t.compRegistrar.register(i.components.FiveGridLine.compType,i.components.FiveGridLine),t.compRegistrar.register(i.components.VerticalLine.compType,i.components.VerticalLine),t.compRegistrar.register(i.components.Anchor.compType,i.components.Anchor),t.compRegistrar.register(i.components.Image.compType,i.components.Image),t.compRegistrar.register(i.components.ZoomedImage.compType,i.components.ZoomedImage),t.compRegistrar.register(i.components.ScreenWidthContainer.compType,i.components.ScreenWidthContainer),t.compRegistrar.register(i.components.PagesContainer.compType,i.components.PagesContainer),t.compRegistrar.register(i.components.PageGroup.compType,i.components.PageGroup),t.compRegistrar.register("wysiwyg.components.imageZoom",s.imageZoom),t.compRegistrar.register("wysiwyg.components.ImageZoomDisplayer",s.imageZoomDisplayer),t.compRegistrar.register("wysiwyg.viewer.components.MediaZoom",s.mediaZoom),t.compRegistrar.register("wysiwyg.viewer.components.MobileMediaZoom",s.mobileMediaZoom),t.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoom",s.touchMediaZoom),t.compRegistrar.register(i.components.SiteButton.compType,i.components.SiteButton),t.compRegistrar.register(i.components.WRichText.compType,i.components.WRichText),t.compRegistrar.register("wysiwyg.viewer.components.TouchMediaZoomItem",s.touchMediaZoomItem),t.compRegistrar.register(i.components.LegacyContainer.compType,i.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.VerticalRepeater",i.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.WSiteStructure",i.components.LegacyContainer),t.compRegistrar.register("wysiwyg.viewer.components.ScriptClassForBolt",l),t.compRegistrar.register(i.components.Container.compType,i.components.Container),t.compRegistrar.register(i.components.ThemeRenderer.compType,i.components.ThemeRenderer),t.compRegistrar.register(i.components.AppWidget.compType,i.components.AppWidget),t.compRegistrar.register(i.components.FormContainer.compType,i.components.FormContainer),t.compRegistrar.register(i.components.GroupContainer.compType,i.components.GroupContainer),t.compRegistrar.register(i.components.WPhoto.compType,i.components.WPhoto),t.compRegistrar.register("wysiwyg.viewer.components.ClipArt",i.components.ClipArt),t.compRegistrar.register(i.components.RefComponent.compType,i.components.RefComponent),t.compRegistrar.register(i.components.Section.compType,i.components.Section);var h=e.filter(i.components,function(e){return!!e.getComponentSkins});return e.forEach(h,function(e){n.skinsMap.addBatch(e.getComponentSkins())}),n.skinsMap.addBatch(i.mixins.scrollMixin.getMixinSkins()),t.dataRequirementsCheckerRegistrar.registerCheckerForCompType("wysiwyg.viewer.components.WPhoto",u.checkRequirements),{siteButton:o,dropDownMenu:a,balata:r,infoTip:p,scriptClass:l,mediaCommon:d,translationRequirementsChecker:c}}.apply(t,n))||(e.exports=s)},427:function(e,t,i){var n,s;n=[i(2)],void 0===(s=function(e){"use strict";return e.components.SiteButton}.apply(t,n))||(e.exports=s)},428:function(e,t,i){var n,s;n=[i(0),i(1),i(10),i(3),i(2),i(179),i(7),i(6),i(180)],void 0===(s=function(e,t,i,n,s,o,a,r,p){"use strict";var l="open";function d(e){return!isNaN(parseFloat(e))&&isFinite(e)}function c(e){return d(e)?parseInt(e,10):void 0}function u(e,t,i,n,s,o){return o===e.length-1?1===e.length?"dropLonely":t?"bottom":i||"right"===n?s?"left":"right":"center":0===o?t?"top":i||"left"===n?s?"right":"left":"center":t?"dropCenter":"center"}function h(i,n,s,o,a,r,p,l,d){return e.map(n,function(c,h){var m=c.link,g=function(i,n,s,o,a){var r=e.some(s,["link.pageId.id",n]),p=void 0,l={AnchorLink:function(t){return(e.has(t.anchorDataId,"id")?t.anchorDataId.id:t.anchorDataId)===p},PageLink:function(e){if(!p){if(e.pageId.isPopup)return e.pageId.id===n;if(!r)return e.pageId.id===i}return!1}};return o&&(p=t.menuUtils.getActiveAnchorInPage(a,s,i)),function(e){var t=e&&l[e.type];return!!t&&t(e)}}(r,p,n,d,i);return{isContainer:Boolean(s),isSelected:g(m),positionInList:u(n,s,o,a,l,h)}})}function m(t){return e.flatMap(t,function(t){var i=[];return t.items&&(i=e.map(t.items,function(i){return e.assign(i,{parent:t.id})})),[t].concat(i)})}var g=function(e){var t=e.isExperimentOpen,i=e.renderType;return t("bv_wixDropdown")&&"bolt"===i};function y(t){var i=a.findDOMNode(t),s=n.utils.accessibility.getTabbaleElements(i,!0);r(e.head(s)).focus()}var f={displayName:"DropDownMenu",propTypes:e.assign({isMobileView:s.santaTypesDefinitions.isMobileView,isMobileDevice:s.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:s.santaTypesDefinitions.Device.isTabletDevice,anchorChangeEvent:s.santaTypesDefinitions.SiteAspects.anchorChangeEvent,currentUrlPageId:s.santaTypesDefinitions.Component.currentUrlPageId,currentPopupId:s.santaTypesDefinitions.currentPopupId,highlightAnchorsInMenu:s.santaTypesDefinitions.BrowserFlags.highlightAnchorsInMenu.isRequired,menuItems:s.santaTypesDefinitions.Menu.menuItems,id:s.santaTypesDefinitions.Component.id,refInParent:s.santaTypesDefinitions.Component.refInParent,skin:s.santaTypesDefinitions.Component.skin,compProp:s.santaTypesDefinitions.Component.compProp,compData:s.santaTypesDefinitions.Component.compData,componentPreviewState:s.santaTypesDefinitions.RenderFlags.componentPreviewState,isExperimentOpen:s.santaTypesDefinitions.isExperimentOpen.isRequired,renderType:s.santaTypesDefinitions.PublicModel.renderType,getTranslatedAriaLabel:s.santaTypesDefinitions.Accessibility.getTranslatedAriaLabel.isRequired},s.utils.santaTypesUtils.getSantaTypesByDefinition(o)),mixins:[n.mixins.skinBasedComp,i.timersMixins.timeoutsMixin,n.mixins.skinInfo,n.mixins.createChildComponentMixin],getInitialState:function(){return this.shouldChildrenUpdate=!1,{hover:null,hoverListPosition:null,activeAnchor:null,$dropAlign:this.props.compProp.alignButtons,$mobile:this.props.isMobileDevice||this.props.isMobileView||this.props.isTabletDevice()?"mobile":"notMobile"}},componentDidMount:function(){this.props.highlightAnchorsInMenu()&&this.props.anchorChangeEvent.registerToAnchorChange(this)},componentDidUpdate:function(){g(this.props)&&this.refs[""].reLayout()},componentWillUnmount:function(){this.props.highlightAnchorsInMenu()&&this.props.anchorChangeEvent.unregisterToAnchorChange(this)},convertItemsToChildren:function(t,i,n,s){(i=i||{}).style=i.style||{};var o=h(this.state.activeAnchor,t,s,this.props.compProp.stretchButtonsToMenuWidth,this.props.compProp.alignButtons,this.props.currentUrlPageId,this.props.currentPopupId,this.props.compProp.rtl,this.props.highlightAnchorsInMenu());return e.map(t,function(t,n){var a=(s?"moreContainer":"")+n;return this.createChildComponent(t,"core.components.MenuButton","repeaterButton",e.merge({isContainer:o[n].isContainer,isSelected:o[n].isSelected,positionInList:o[n].positionInList,id:this.props.id+a,ref:a,key:t.id,refInParent:a,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,isDropDownButton:s,onMouseClick:this.onMouseClick,"aria-haspopup":t.items.length>0,tagName:"li",direction:this.props.compProp.rtl?"rtl":"ltr",parentId:t.parent,dataId:t.id},i))}.bind(this))},onMouseClick:function(e,t,i){if(i)this.mouseLeaveHandler();else{var n=("__more__"!==t?this.props.menuItems[t].items:[]).length>0||"__more__"===t,s=this.state.hover;!this.dropDownOpen&&n?(this.mouseEnterHandler(t),e.preventDefault(),e.stopPropagation()):this.dropDownOpen&&!this.isDropdownOwner(t,s)&&n?(this.mouseLeaveHandler(),e.preventDefault(),e.stopPropagation(),this.mouseEnterHandler(t)):this.dropDownOpen&&this.mouseLeaveHandler()}},onAnchorChange:function(e){e!==this.state.activeAnchor&&this.setState({activeAnchor:e})},isDropdownOwner:function(e,t){return e===t},createMoreButton:function(e){var t="__more__",i=e?"left":"right",n=this.props.compProp.alignButtons;return this.props.compProp.stretchButtonsToMenuWidth||"right"===n||(i="center"),this.createChildComponent({id:t,label:this.props.compProp.moreButtonLabel},"core.components.MenuButton","repeaterButton",{isSelected:!1,positionInList:i,id:this.props.id+t,ref:t,key:t,refInParent:t,mouseEnterHandler:this.mouseEnterHandler,mouseLeaveHandler:this.mouseLeaveHandler,onFocus:this.mouseEnterHandler,onBlur:this.mouseLeaveHandler,"aria-haspopup":!0,tagName:"li",onKeyDown:this.subMenuKeyDownHandler,onMouseClick:this.onMouseClick,isDropDownButton:!1,display:"inline-block"})},mouseEnterHandler:function(i,n){this.hovering=!0,this.lastHovered=this.getCurrentTime();var s=i.replace(this.props.id,"");-1!==e.keys(this.props.menuItems).concat("__more__").indexOf(s)&&(d(s)||t.stringUtils.startsWith(i,"__"))&&i!==this.state.hover&&(this.state.hover&&this.refs[this.state.hover].setIdleState(),g(this.props)||this.registerReLayout(),this.setState({hover:i,hoverListPosition:n}))},getCurrentTime:function(){return Date.now()},mouseLeaveHandler:function(){this.hovering=!1,this.lastHovered=this.getCurrentTime(),!this.dropDownOpen&&this.state.hover&&this.refs[this.state.hover].setIdleState(),this.setTimeout(function(){var e=this.getCurrentTime()-this.lastHovered;!this.hovering&&this.state.hover&&e>=1e3&&(this.refs[this.state.hover].setIdleState(),this.dropDownOpen=!1,this.setState({hover:null,hoverListPosition:null}))}.bind(this),1e3)},getParamsFromSkins:function(){return{menuBorderY:this.getSumParamValue("menuTotalBordersY",this.props.skin),menuBtnBorder:this.getSumParamValue("menuButtonBorders",this.getSkinExports().repeaterButton.skin),ribbonEls:this.getParamFromDefaultSkin("ribbonEls").value?parseInt(this.getParamFromDefaultSkin("ribbonEls").value,10):0,labelPad:this.getFromExports("labelPad"),ribbonExtra:this.getFromExports("ribbonExtra")?Math.abs(parseInt(this.getFromExports("ribbonExtra"),10)):0}},shiftFocusToMenu:function(e){var t=this.refs[""+e];this.dropDownOpen=!1,y(t),this.currentFocusedSubMenuIndex=-1},shiftFocusToSubMenu:function(e){y(this.refs["moreContainer"+e]),this.currentFocusedSubMenuIndex=e},getFirstIndexOfSubMenu:function(){for(var e=void 0,t=0;t<this.subMenuItems.length;t++)if(e=a.findDOMNode(this.refs["moreContainer"+t]),"none"!==window.getComputedStyle(e).display)return t;return 0},mainMenuKeyDownHandler:function(e){if(this.dropDownOpen){var t=void 0;e.shiftKey||"Tab"!==e.key||(e.stopPropagation(),e.preventDefault(),t=this.getFirstIndexOfSubMenu(),this.shiftFocusToSubMenu(t))}},subMenuKeyDownHandler:function(e){var t=void 0;if(!e.shiftKey&&"Tab"===e.key)if((t=this.currentFocusedSubMenuIndex+1)===this.subMenuItems.length){var i=c(this.state.hover);void 0!==i&&i+1<this.props.menuItems.length&&(e.stopPropagation(),e.preventDefault(),this.shiftFocusToMenu(i+1))}else e.stopPropagation(),e.preventDefault(),this.shiftFocusToSubMenu(t);if(e.shiftKey&&"Tab"===e.key)if(e.stopPropagation(),e.preventDefault(),(t=this.currentFocusedSubMenuIndex-1)<0||t<this.getFirstIndexOfSubMenu()){var n=c(this.state.hover);void 0===n&&(n="__more__"),this.shiftFocusToMenu(n)}else this.shiftFocusToSubMenu(t)},createHoverChildren:function(e){var t=this.convertItemsToChildren(e,{style:{width:"100%"},display:"block",prefix:"_",subMenu:!0},!0,!0);return t.length>0&&(this.dropDownOpen=!0,this.subMenuItems=t),t},checkMoreVisibilityInPreviewState:function(t,i){var n,s=void 0;if(this.props.isExperimentOpen("previewSubMenu")&&(n=this.props.componentPreviewState,e.includes(n,l))){t="inherit";var o=function(e){return e.items.length>0};s=e.findIndex(this.props.menuItems,o);var a=e.find(this.props.menuItems,o),r="__more__"===this.state.hover?m(this.props.menuItems):[],p=a?a.items:r;p.length&&(i=this.createHoverChildren(p)),i.length>0&&(t="inherit")}return{firstParentIndex:s,hoverChildrenOverride:i,moreVisibilityOverride:t}},applyPreviewStateIfNeeded:function(t,i){var n=this.checkMoreVisibilityInPreviewState(t,i),s=n.firstParentIndex,o=n.hoverChildrenOverride,a=n.moreVisibilityOverride,r=e.isUndefined(s)?"":s,p=void 0;return p=e.isString(this.state.hover)&&!e.isEmpty(this.state.hover)?this.state.hover:e.isNumber(r)?r:null,{dropPosition:this.state.hover?this.state.hoverListPosition:r,moreContainerHoverIndex:p,hoverChildrenOverride:o,moreVisibilityOverride:a}},getAriaLabel:function(){return this.props.getTranslatedAriaLabel("AriaLabels","dropDownMenu_AriaLabel_TopLevel_SiteNavigation","Site")},getSkinProperties:function(){var t=this.getParamsFromSkins(),i=this.convertItemsToChildren(this.props.menuItems,{display:"inherit"},null,null),n=[],s="hidden";i.push(this.createMoreButton(this.props.compProp.rtl)),(d(this.state.hover)&&this.props.menuItems[this.state.hover]||"__more__"===this.state.hover)&&(n=this.createHoverChildren(d(this.state.hover)?this.props.menuItems[this.state.hover].items:m(this.props.menuItems))).length>0&&(s="inherit");var o=this.applyPreviewStateIfNeeded(s,n),a=o.dropPosition,r=o.moreVisibilityOverride,p=o.moreContainerHoverIndex,l=o.hoverChildrenOverride;return{"":{id:this.props.id,key:this.props.refInParent,className:"hidden-during-prewarmup",style:{overflowX:"hidden"},"data-stretch-buttons-to-menu-width":!!this.props.compProp.stretchButtonsToMenuWidth,"data-same-width-buttons":!!this.props.compProp.sameWidthButtons,"data-num-items":e.size(this.props.menuItems),"data-menuborder-y":t.menuBorderY,"data-menubtn-border":t.menuBtnBorder,"data-ribbon-els":t.ribbonEls,"data-label-pad":t.labelPad,"data-ribbon-extra":t.ribbonExtra,"data-drophposition":a,"data-dropalign":this.props.compProp.alignButtons,dir:this.props.compProp.rtl?"rtl":"ltr",tagName:g(this.props)?"wix-dropdown-menu":"div"},navContainer:{"aria-label":this.getAriaLabel()},itemsContainer:{children:i,style:{textAlign:this.props.compProp.alignButtons},onKeyDown:this.mainMenuKeyDownHandler},moreContainer:{onKeyDown:this.subMenuKeyDownHandler,children:l,"data-hover":p,style:{visibility:r},id:this.props.id+"moreContainer"},dropWrapper:{style:{visibility:r},"data-drophposition":a,"data-dropalign":this.props.compProp.alignButtons}}}};return n.compRegistrar.register("wysiwyg.viewer.components.menus.DropDownMenu",f),p.registerCommonLanguageRequirement("wysiwyg.viewer.components.menus.DropDownMenu",function(t,i){return e.get(i,["properties","dataLang"])}),f}.apply(t,n))||(e.exports=s)},429:function(e,t,i){var n,s;n=[i(0),i(1),i(10),i(2),i(430),i(7),i(3)],void 0===(s=function(e,t,i,n,s,o,a){"use strict";var r=t.style.assignStyle,p=3e3;function l(){this.setTimeoutNamed("closeTipByTimeout",function(){c.call(this)}.bind(this),p)}function d(e,t){(function(e){this.setState({$hidden:"",isShown:!0,caller:e}),l.call(this)}).call(this,o.findDOMNode(t.source))}function c(){this.clearTimeoutNamed("openTip"),this.setState({$hidden:"hidden",runTimer:!0})}var u={displayName:"InfoTip",mixins:[a.mixins.skinBasedComp,i.timersMixins.timeoutsMixin],propTypes:{compData:n.santaTypesDefinitions.Component.compData.isRequired},onMouseEnter:function(){this._isMouseInside=!0},onMouseLeave:function(){this._isMouseInside=!1,c.call(this)},showToolTip:function(t,i){var n;(n=i.source.props.compData)&&e.isEmpty(n.description)||(this.clearTimeoutNamed("hideTipByClose"),this.setTimeoutNamed("openTip",function(){d.call(this,t,i)}.bind(this),500))},closeToolTip:function(){this.setTimeoutNamed("hideTipByClose",function(){this._isMouseInside||c.call(this)}.bind(this),150)},getSkinProperties:function(){return{content:{children:[this.props.compData.content]}}},componentDidUpdate:function(){(function(){var t=void 0,i=void 0;this.state.isShown&&(t=o.findDOMNode(this),i=s.getPosition(this.state.caller,t),r(t,e.pick(i,["top","left","right"])))}).call(this)},getInitialState:function(){return{$hidden:"hidden",isMouseInside:!1}}};return a.compRegistrar.register("wysiwyg.common.components.InfoTip",u),u}.apply(t,n))||(e.exports=s)},430:function(e,t,i){var n,s;n=[i(6)],void 0===(s=function(e){"use strict";function t(t,i,n,s){var o=e(window.document.body).scrollTop(),a=void 0;return t-o<0?((a=i.top+s.height)>n+o+s.height&&(a=i.top<0?i.top:o),a>0?a:0):t}function i(e,t,i,n){return t>n?"auto":e<0?i.left:e}function n(e,t,i){return e>i?t.left+t.width:e}return{getPosition:function(s,o){s=e(s);var a={width:(o=e(o)).width(),height:o.height()},r=function(e){return e.offset()}(s),p=function(e,t){return{top:e.top-t.height,left:e.left-t.width/2,right:"auto"}}(r,a);return p=function(e,t){var i=0,n=0,s=void 0,o=t.offsetParent();return o&&(i=(s=o.offset()).top,n=s.left),{top:e.top-i,left:e.left-n,right:"auto"===e.right?e.right:e.right+n}}(p=function(e,s,o){var a=window.innerWidth,r=window.innerHeight;return{top:t(e.top,s,r,o),left:i(e.left,e.right,s),right:n(e.right,s,a)}}(p,r,a),o)}}}.apply(t,n))||(e.exports=s)},431:function(e,t,i){var n,s;n=[i(2),i(4),i(13),i(7)],void 0===(s=function(e,t,i,n){"use strict";function s(e){return'window.loadedScripts = window.loadedScripts || {}; window.loadedScripts["'+e.NAME+'"] = true;'}return i({displayName:"scriptClass",propTypes:{scriptData:t.shape({script:t.shape({NAME:t.string.isRequired,SRC:t.string.isRequired}).isRequired}).isRequired},loaded:!1,componentDidMount:function(){var e=this.props.scriptData,t=function(e){return window.loadedScripts&&window.loadedScripts[e.NAME]}(e.script),i=void 0,s=void 0,o=void 0;t&&!this.loaded?this.fireCallbacks(e,!0):(o=this,t=window.document.createElement("script"),i=function(){o.fireCallbacks(e,!1),o.loaded=!0,t.removeEventListener("load",i)},t.addEventListener("load",i),t.src=e.script.SRC,(s=n.findDOMNode(this)).replaceChild(t,s.children[0]))},fireCallbacks:function(e,t){e.callbacks.forEach(function(e){var i=e.context;i?e.callback.call(i,{fromCache:t}):e.callback({fromCache:t})}),e.callbacks.length=0},render:function(){var t=this.props.scriptData.script,i="script-"+t.NAME;return e.utils.createReactElement("div",null,e.utils.createReactElement("script",{id:i,src:t.SRC}),e.utils.createReactElement("script",{dangerouslySetInnerHTML:{__html:s(t)}}))}})}.apply(t,n))||(e.exports=s)},432:function(e,t,i){var n,s;n=[i(2),i(0),i(4),i(1),i(90)],void 0===(s=function(e,t,i,n,s){"use strict";var o=n.mediaConsts,a=n.containerBackgroundUtils;function r(e){return t.get(e.compDesign,["background","mediaRef"],t.get(e.compData,["background","mediaRef"]))||{}}function p(e,i){var n=t.pick(e,o.playback.SUPPORTED_MEDIA_ATTRIBUTES),s=t.pick(i,o.playback.SUPPORTED_MEDIA_ATTRIBUTES.concat(o.supportedParentProps));return t.assign(n,s)}function l(e){return"editor"===e.componentViewMode}return{propTypes:t.defaults({id:e.santaTypesDefinitions.Component.id.isRequired,styleId:e.santaTypesDefinitions.Component.styleId.isRequired,compProp:e.santaTypesDefinitions.Component.compProp,compData:e.santaTypesDefinitions.Component.compData,compDesign:e.santaTypesDefinitions.Component.compDesign,compStaticBehaviors:e.santaTypesDefinitions.Component.compStaticBehaviors,isExperimentOpen:e.santaTypesDefinitions.isExperimentOpen,isInSeo:e.santaTypesDefinitions.isInSeo,bgStyle:i.object,shouldRenderSrc:e.santaTypesDefinitions.Media.shouldRenderSrc,onClick:i.func,mediaAspect:e.santaTypesDefinitions.SiteAspects.mediaAspect.isRequired,renderParts:e.santaTypesDefinitions.Media.renderParts,playbackFormat:e.santaTypesDefinitions.Media.playbackFormat,playbackConfig:e.santaTypesDefinitions.Media.playbackConfig,playbackUrl:e.santaTypesDefinitions.Media.playbackUrl,isMobileView:e.santaTypesDefinitions.isMobileView.isRequired,isPlayingAllowed:e.santaTypesDefinitions.RenderFlags.isPlayingAllowed.isRequired,componentViewMode:e.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,enableBackgroundVideo:e.santaTypesDefinitions.Media.enableBackgroundVideo},e.utils.santaTypesUtils.getSantaTypesByDefinition(s)),getInitialState:function(){return this.isInViewport=!1,this.mediaAPI=null,this.currentVisibilityState={hidden:!1},{}},componentDidMount:function(){this.props.mediaAspect.initFeatureDetections(),this.registerPlayer(this.props)},componentWillUnmount:function(){this.unregisterPlayer(this.props)},componentWillReceiveProps:function(e){this.handleVideoDataChange(this.props,e)},handleAutoplay:function(e){var t=e.isPlayingAllowed&&r(e).autoplay;this.isInViewport&&t&&this._playMedia({persist:!0})},handleVideoDataChange:function(e,i){var n=r(i),s=r(e);n.videoId&&n.videoId!==s.videoId||t.includes(i.renderParts.media.video,"video")&&!t.includes(e.renderParts.media.video,"video")?(this.unregisterPlayer(e),this.registerPlayer(i)):n.autoplay!==s.autoplay&&e.isPlayingAllowed&&(n.autoplay?this._playMedia():this.pauseMedia())},registerPlayer:function(e){var i=r(e);if("WixVideo"===t.get(i,"type")&&t.includes(e.renderParts.media.video,"video")){var n={playerType:"mediaContainer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:i.qualities[0].quality}]}}};e.mediaAspect.registerPlayer(e.id,n)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},onMediaChange:function(e){var t=this.props.mediaAspect.getData(this.props.id)||{},i=this.mediaStateChangeLogic(e,t);e.type===o.eventTypes.LOAD&&i.playbackState===o.playbackTypes.READY&&this.handleAutoplay(this.props),this.updatePlayerState(this.props,i)},mediaStateChangeLogic:function(e,i){var n={},s=p(r(this.props),this.props.compProp),a=t.includes([o.playbackTypes.SEEKING_ENDED,o.playbackTypes.SEEKING,o.playbackTypes.SEEK_PLAYING],e.playbackState),l=e.playbackState===o.playbackTypes.PAUSED&&s.loop&&i.currentTime>=i.duration;switch(e.type){case o.eventTypes.MOUNT:n=Object.assign(t.omit(e,"type"),{volume:1});break;case o.eventTypes.LOAD:n=t.omit(e,["type","originalEventType"]);break;case o.eventTypes.PLAYSTATE:switch(e.playbackState){case o.playbackTypes.PLAY_ENDED:n={playbackState:o.playbackTypes.PLAY_ENDED,previousPlaybackState:o.playbackTypes.PAUSED};break;default:n=a||l?{playbackState:i.playbackState}:{playbackState:e.playbackState}}break;case o.eventTypes.ERROR:e.error===o.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,r(this.props).videoId,{error:"",fallback:!0}):e.error===o.errorTypes.NO_VIDEO_FOUND&&this.updateQualityState(this.props,r(this.props).videoId,{error:e.error});break;case o.eventTypes.TIME_UPDATE:n={currentTime:e.currentTime};break;case o.eventTypes.PROGRESS:n={progress:e.progress};break;case o.eventTypes.VOLUME:n={volume:e.volume,muted:e.muted};break;case o.eventTypes.RATE:}return n},videoVisibilityChangeHandler:function(){var e=this.currentVisibilityState,t=this.props.mediaAspect.getData(this.props.id);!e.hidden&&e.in?t.previousPlaybackState===o.playbackTypes.PLAYING?this._playMedia():t.playbackState!==o.playbackTypes.LOADING&&t.playbackState!==o.playbackTypes.READY||this.handleAutoplay(this.props):this.pauseMedia()},onViewportChange:function(e){var t=!l(this.props)&&!e.isFixed;this.isInViewport=!!e.in,Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},onVisibilityChange:function(e){var t=!l(this.props);Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},onFileAvailability:function(e){var t=e.readyQualities;t.length&&this.updateQualityState(this.props,e.videoId,{readyQualities:t,error:""}),this.updatePlayerState(this.props,{mediaReadyState:e.availabilityState})},setMediaAPI:function(e){this.mediaAPI=e},mediaCommandsLogic:function(e){var i=t.tail(arguments),n=t.isEmpty(i)?void 0:i;this.mediaAPI&&this.mediaAPI(e,n)},playPreview:function(){this.mediaCommandsLogic("play")},playMedia:function(){this._playMedia({persist:!0})},pauseMedia:function(){this.mediaCommandsLogic("pause")},stopMedia:function(){this.mediaCommandsLogic("stop")},_playMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist;t&&this.updatePlayerState(this.props,{previousPlaybackState:o.playbackTypes.PLAYING}),this.mediaCommandsLogic("play")},createFillLayers:function(e){var i,n=t.assign({},this.props,e),s={skin:"skins.viewer.balata.balataBaseSkin",styleId:n.styleId+o.balataConsts.BALATA},d=r(n),c=function(e){return t.get(e.compDesign,["background"],t.get(e.compData,["background"]))||{}}(n),u=n.isMobileView?"mobile":"desktop",h={ref:o.balataConsts.BALATA,id:n.id+o.balataConsts.BALATA,key:(l(n)?"no-playback":"playback")+u,parentId:n.id,style:t.defaults(n.bgStyle,o.defaultMediaStyle,{width:"100%",height:"100%"}),compBehaviors:n.compStaticBehaviors,compProp:p(r(this.props),this.props.compProp),compDesign:n.compDesign,onClick:n.onClick,notifyMediaState:this.onMediaChange,setMediaAPI:this.setMediaAPI,isPlayingAllowed:n.isPlayingAllowed,isEditorMode:l(n),shouldRenderSrc:n.shouldRenderSrc,enableVideo:this.props.enableBackgroundVideo,enableBackgroundPadding:n.isMobileView,renderParts:n.renderParts,playbackFormat:n.playbackFormat,playbackConfig:n.playbackConfig,playbackUrl:n.playbackUrl},m="WixVideo"===(i=d).mediaType?i.posterImageRef:i;if(this.props.shouldRenderSrc&&!t.isEmpty(m)){var g=a.convertStyleToDimensions(t.defaults(n.mediaDimensions,t.pick(n.style,["width","height"])));h.mediaDimensions=g,h.imageUrlPreMeasureParams=a.getImageUrlPreMeasureParams(g,m,c.fittingType,c.alignType,n.isMobileView,n.isInSeo)}return this.createChildComponent(n.compData,"wysiwyg.viewer.components.background.Balata",s,h)}}}.apply(t,n))||(e.exports=s)},433:function(e,t,i){var n,s,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,s=!1,o=void 0;try{for(var a,r=e[Symbol.iterator]();!(n=(a=r.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{!n&&r.return&&r.return()}finally{if(s)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n=[i(2),i(0),i(4),i(1),i(90)],void 0===(s=function(e,t,i,n,s){"use strict";var a=n.containerBackgroundUtils,r=n.mediaConsts;function p(e){return t.get(e.compDesign,["background","mediaRef"],t.get(e.compData,["background","mediaRef"]))||{}}function l(e){return"editor"===e.componentViewMode}return{propTypes:t.defaults({animations:e.santaTypesDefinitions.animations.isRequired,id:e.santaTypesDefinitions.Component.id.isRequired,styleId:e.santaTypesDefinitions.Component.styleId.isRequired,compData:e.santaTypesDefinitions.Component.compData,compProp:e.santaTypesDefinitions.Component.compProp,compDesign:e.santaTypesDefinitions.Component.compDesign,compStaticBehaviors:e.santaTypesDefinitions.Component.compStaticBehaviors,isInSeo:e.santaTypesDefinitions.isInSeo,bgStyle:i.object,onClick:i.func,shouldRenderSrc:e.santaTypesDefinitions.Media.shouldRenderSrc,renderParts:e.santaTypesDefinitions.Media.renderParts,playbackFormat:e.santaTypesDefinitions.Media.playbackFormat,playbackConfig:e.santaTypesDefinitions.Media.playbackConfig,playbackUrl:e.santaTypesDefinitions.Media.playbackUrl,mediaAspect:e.santaTypesDefinitions.SiteAspects.mediaAspect.isRequired,isPlayingAllowed:e.santaTypesDefinitions.RenderFlags.isPlayingAllowed.isRequired,componentViewMode:e.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,canVideoPlayInline:e.santaTypesDefinitions.Media.canVideoPlayInline},e.utils.santaTypesUtils.getSantaTypesByDefinition(s)),getInitialState:function(){return this.isInViewport=!1,this.mediaAPI=null,this.volumeAnimation={value:null,animation:null},this.visibilityStateListeners={},this.currentVisibilityState={hidden:!1},{enableVideo:!0}},componentDidMount:function(){this.props.mediaAspect.initFeatureDetections(),this.registerPlayer(this.props)},componentWillUnmount:function(){this.visibilityStateListeners={},this.unregisterPlayer(this.props)},componentDidUpdate:function(e){this.handleVideoPropsChange(e)},registerPlayer:function(e){var i=p(e);if(e.canVideoPlayInline&&"WixVideo"===t.get(i,"type")&&t.includes(e.renderParts.media.video,"video")){var n={playerType:"mediaPlayer",mediaData:i,services:{viewport:{callback:this.onViewportChange,eventTypes:["in","out"]},visibility:{callback:this.onVisibilityChange},fileAvailability:{callback:this.onFileAvailability,videoParts:[{name:"video",quality:i.qualities[0].quality},{name:"storyboard",quality:"storyboard"}]}}};e.mediaAspect.registerPlayer(e.id,n)}},unregisterPlayer:function(e){e.mediaAspect.unregisterPlayer(e.id)},updatePlayerState:function(e,t){e.mediaAspect.updatePlayerState(e.id,t)},updateQualityState:function(e,t,i){e.mediaAspect.updateQualityState(t,i)},getMediaState:function(){return this.props.mediaAspect.getData(this.props.id)},handleAutoplay:function(e){var t=e.compProp.autoplay&&e.isPlayingAllowed;this.isInViewport&&e.canVideoPlayInline&&t&&this._playMedia({persist:!0})},handleVideoPropsChange:function(e){var i=this.props,n=p(i),s=p(e);n.videoId===s.videoId&&i.canVideoPlayInline===e.canVideoPlayInline&&t.isEqual(i.renderParts.media.video,e.renderParts.media.video)||(this.unregisterPlayer(e),this.registerPlayer(i),this.setState({enableVideo:!0}));var o=l(this.props);o!==l(e)&&(o?(this.notifyVisibilityState({in:this.isInViewport}),this._stopMedia({persist:!0})):(this.resetPlaybackState(i),this.notifyVisibilityState({in:this.isInViewport}),this.handleAutoplay(i)))},resetPlaybackState:function(e){this.updatePlayerState(e,{playbackState:"",previousPlaybackState:""})},videoVisibilityChangeHandler:function(){var e=this.currentVisibilityState,t=this.getMediaState();!e.hidden&&e.in?t.previousPlaybackState===r.playbackTypes.PLAYING?(this.updatePlayerState(this.props,{playbackPausedByService:!1}),this._playMedia()):(""===t.playbackState&&""===t.previousPlaybackState||t.playbackState===r.playbackTypes.LOADING||t.playbackState===r.playbackTypes.READY)&&this.handleAutoplay(this.props):t.previousPlaybackState===r.playbackTypes.PLAYING&&(this.updatePlayerState(this.props,{playbackPausedByService:!0}),this._pauseMedia()),this.notifyVisibilityState(e)},onViewportChange:function(e){var t=this.props.canVideoPlayInline&&!l(this.props)&&!e.isFixed;this.isInViewport=!!e.in,Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},addVisibilityStateListener:function(e){var i=this,n=t.uniqueId("MPVisibilityCallback");return this.visibilityStateListeners[n]=e,function(){delete i.visibilityStateListeners[n]}},notifyVisibilityState:function(e){var t=this;Object.keys(this.visibilityStateListeners).forEach(function(i){return t.visibilityStateListeners[i](e)})},onVisibilityChange:function(e){var t=this.props.canVideoPlayInline&&!l(this.props);Object.assign(this.currentVisibilityState,e),t&&this.videoVisibilityChangeHandler()},onFileAvailability:function(e){var t=e.readyQualities;switch(e.type){case"video":t.length&&this.updateQualityState(this.props,e.videoId,{readyQualities:t,error:""}),this.updatePlayerState(this.props,{mediaReadyState:e.availabilityState});break;case"storyboard":this.updateQualityState(this.props,e.videoId,{storyboardQuality:t,storyboardReadyState:t.length?r.availabilityReadyStates.IDLE:""})}},onMediaChange:function(e){if(this.props.canVideoPlayInline){var t=this.mediaStateChangeLogic(e,this.getMediaState());e.type===r.eventTypes.LOAD&&t.playbackState===r.playbackTypes.READY&&this.handleAutoplay(this.props),this.updatePlayerState(this.props,t)}},mediaStateChangeLogic:function(e,i){var n={},s=i.playbackState===r.playbackTypes.PLAYING,o=(i.playbackState===r.playbackTypes.SEEK_PLAYING||i.playbackState===r.playbackTypes.SEEK_PAUSED)&&e.playbackState!==r.playbackTypes.PLAYING,a=i.currentTime>=i.duration,l=i.playbackState===r.playbackTypes.SEEK_PLAYING&&!a||i.playbackState===r.playbackTypes.SEEK_PLAYING&&a&&this.props.compProp.loop||i.playbackState===r.playbackTypes.PLAYING;switch(e.type){case r.eventTypes.MOUNT:n=Object.assign(t.omit(e,"type"),{volume:1});break;case r.eventTypes.LOAD:n=t.omit(e,["type","originalEventType"]);break;case r.eventTypes.PLAYSTATE:switch(e.playbackState){case r.playbackTypes.SEEKING:if(!o)n={playbackState:(s||a)&&i.playbackState!==r.playbackTypes.STOPPING?r.playbackTypes.SEEK_PLAYING:r.playbackTypes.SEEK_PAUSED};break;case r.playbackTypes.SEEKING_ENDED:n=!l&&a?{playbackState:r.playbackTypes.PLAY_ENDED}:{playbackState:l?r.playbackTypes.PLAYING:r.playbackTypes.PAUSED},l?this._playMedia():this._pauseMedia();break;case r.playbackTypes.PLAY_ENDED:n={playbackState:r.playbackTypes.PLAY_ENDED,previousPlaybackState:r.playbackTypes.PAUSED};break;default:o||(n={playbackState:e.playbackState})}break;case r.eventTypes.ERROR:e.error===r.errorTypes.NO_HLS_VIDEO?this.updateQualityState(this.props,p(this.props).videoId,{error:"",fallback:!0}):e.error===r.errorTypes.NO_VIDEO_FOUND?this.updateQualityState(this.props,p(this.props).videoId,{error:e.error}):e.error===r.errorTypes.WEBGL_ERROR&&this.setState({enableVideo:!1});break;case r.eventTypes.TIME_UPDATE:n={currentTime:e.currentTime};break;case r.eventTypes.PROGRESS:n={progress:e.progress};break;case r.eventTypes.VOLUME:if(t.isNumber(this.volumeAnimation.value)||i.volume<0)break;if(i.playbackState===r.playbackTypes.PLAY_PREVIEW)break;n={volume:e.volume,muted:e.muted};break;case r.eventTypes.RATE:}return n},mediaCommandsLogic:function(e){var i=this;if(this.props.canVideoPlayInline&&this.mediaAPI){for(var n=this.getMediaState(),s=n.playbackState===r.playbackTypes.PLAYING,a=t.includes([r.playbackTypes.SEEK_PLAYING,r.playbackTypes.SEEK_PAUSED,r.playbackTypes.SEEKING],n.playbackState),p=arguments.length,l=Array(p>1?p-1:0),d=1;d<p;d++)l[d-1]=arguments[d];switch(e){case"togglePlay":s?this._pauseMedia({persist:!0}):this._playMedia({persist:!0});break;case"play":var c=o(l,1),u=c[0],h=void 0===u?-1:u;if(n.playbackState===r.playbackTypes.PLAY_ENDED){if(!1===this.props.compProp.playerInteraction.allowReplay)break;h<0&&(h=0)}h>=0&&this.seekMedia(h),this.mediaAPI("play");break;case"preview":this.updatePlayerState(this.props,{playbackState:r.playbackTypes.PLAY_PREVIEW}),this.mediaAPI("mute"),this.mediaAPI("play");break;case"pause":var m=o(l,1),g=m[0],y=void 0===g?-1:g;this.mediaAPI("pause"),y>=0&&this.seekMedia(y);break;case"seekStart":if(a)break;this.updatePlayerState(this.props,{playbackState:s?r.playbackTypes.SEEK_PLAYING:r.playbackTypes.SEEK_PAUSED}),s&&this._pauseMedia();break;case"seekEnd":var f=o(l,1),v=f[0];this.seekMedia(v);break;case"stop":this.updatePlayerState(this.props,{playbackState:r.playbackTypes.STOPPING}),this.mediaAPI("stop");break;case"mute":case"unMute":this.mediaAPI(e,l),this.updatePlayerState(this.props,{volume:Math.abs(n.volume)});break;case"volumeFadeOut":var b=n.volume,P=n.muted;if(P)break;var S=o(l,1),T=S[0];this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||b,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,T,0,{value:0,ease:"Sine.easeOut",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:-b})},onUpdate:function(){i.mediaAPI("setVolume",[i.volumeAnimation.value])},onComplete:function(){i.volumeAnimation={value:null,animation:null}}}});break;case"volumeFadeIn":var k=n.volume,M=n.muted;if(M)break;var D=o(l,1),I=D[0];this.volumeAnimation.animation&&this.props.animations.kill(this.volumeAnimation.animation),this.volumeAnimation.value=this.volumeAnimation.value||0,this.volumeAnimation.animation=this.props.animations.animate("BaseObjectProps",this.volumeAnimation,I,0,{value:Math.abs(k),ease:"Sine.easeIn",callbacks:{onStart:function(){i.updatePlayerState(i.props,{volume:Math.abs(k)})},onUpdate:function(){i.mediaAPI("setVolume",[i.volumeAnimation.value])},onComplete:function(){i.volumeAnimation={value:null,animation:null}}}});break;default:this.mediaAPI(e,l)}}},getMuteValueByAutoPlayPolicy:function(e){var i=this.getMediaState(),n=[r.playbackTypes.PLAYING,r.playbackTypes.PLAY_PREVIEW,r.playbackTypes.SEEK_PLAYING];if(l(this.props)&&t.includes(n,i.playbackState))return!0;if(!l(this.props)&&!t.isUndefined(i.muted))return i.muted;if(e.isPlayingAllowed&&e.compProp.autoplay)return!0;var s=e.isMobileDevice||e.isMobileView,o="none"!==e.compProp.playerInteraction.rollIn;return!(s||!o)},setMediaAPI:function(e){this.mediaAPI=e},togglePlayMedia:function(){this.mediaCommandsLogic("togglePlay")},playMedia:function(e){this._playMedia({persist:!0,time:e})},previewMedia:function(){this.notifyVisibilityState({in:!0,forcePlay:!0}),this.mediaCommandsLogic("preview")},pauseMedia:function(e){this._pauseMedia({persist:!0,time:e})},stopMedia:function(){this._stopMedia({persist:!0})},setMediaVolume:function(e){this.mediaCommandsLogic("setVolume",e)},muteMedia:function(){this.mediaCommandsLogic("mute")},unMuteMedia:function(){this.mediaCommandsLogic("unMute")},mediaVolumeFadeOut:function(e){this.mediaCommandsLogic("volumeFadeOut",e)},mediaVolumeFadeIn:function(e){this.mediaCommandsLogic("volumeFadeIn",e)},seekMedia:function(e){this.mediaCommandsLogic("seek",e)},startSeekMedia:function(e){this.mediaCommandsLogic("seekStart",e)},endSeekMedia:function(e){this.mediaCommandsLogic("seekEnd",e)},_playMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.time;t&&this.updatePlayerState(this.props,{previousPlaybackState:r.playbackTypes.PLAYING}),this.mediaCommandsLogic("play",i)},_pauseMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist,i=e.time;t&&this.updatePlayerState(this.props,{previousPlaybackState:r.playbackTypes.PAUSED}),this.mediaCommandsLogic("pause",i)},_stopMedia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.persist;t&&this.updatePlayerState(this.props,{previousPlaybackState:r.playbackTypes.STOPPED}),this.mediaCommandsLogic("stop")},createFillLayers:function(e){var i=this,n=t.assign({},this.props,e);n.compProp.mute=this.getMuteValueByAutoPlayPolicy(n);var s,o={skin:"skins.viewer.balata.balataBaseSkin",styleId:n.styleId+r.balataConsts.BALATA},d=p(n),c=function(e){return t.get(e.compDesign,["background"],t.get(e.compData,["background"]))||{}}(n),u={ref:r.balataConsts.BALATA,id:n.id+r.balataConsts.BALATA,parentId:n.id,style:t.assign({},r.defaultMediaStyle,{width:"100%",height:"100%"},n.styleOverrides),compBehaviors:n.compStaticBehaviors,compProp:n.compProp,compDesign:n.compDesign,onClick:n.onClick,notifyMediaState:this.onMediaChange,registerStateChange:function(e,t){return i.props.mediaAspect.registerStateChange(e,i.props.id,t)},unregisterStateChange:function(e){return i.props.mediaAspect.unregisterStateChange(e,i.props.id)},setMediaAPI:this.setMediaAPI,enableVideo:n.enableVideo&&this.state.enableVideo,shouldRenderSrc:n.shouldRenderSrc,imageUrlPreMeasureParams:n.imageUrlPreMeasureParams,isPlayingAllowed:this.props.isPlayingAllowed,isEditorMode:l(n),renderParts:n.renderParts,playbackFormat:n.playbackFormat,playbackConfig:n.playbackConfig,playbackUrl:n.playbackUrl,playerStyle:this.props.style,getIsVisible:this.props.mediaAspect.shouldPlay.bind(this.props.mediaAspect,this.props.id),addVisibilityStateListener:this.addVisibilityStateListener,addWebGLContext:this.props.mediaAspect.webglContexts.add,removeWebGLContext:this.props.mediaAspect.webglContexts.remove};if(this.props.shouldRenderSrc){var h=a.convertStyleToDimensions(t.pick(n.style,["width","height"]));u.mediaDimensions=h,u.imageUrlPreMeasureParams=a.getImageUrlPreMeasureParams(h,"WixVideo"===(s=d).mediaType?s.posterImageRef:s,c.fittingType,c.alignType,n.isMobileView,n.isInSeo)}return this.createChildComponent(n.compData,"wysiwyg.viewer.components.background.Balata",o,u)}}}.apply(t,n))||(e.exports=s)},434:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";return{checkRequirements:function(i,n){var s=e.get(n,["properties","overrideCrop","svgId"],e.get(n,["data","crop","svgId"]));return s?e.compact([t.svg.createSvgFetchRequest(i.serviceTopology.mediaRootUrl,i,s)]):[]}}}.apply(t,n))||(e.exports=s)},435:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";function i(i,n,s,o){var a=e.get(i,"styleItem.id")||e.get(i,"structure.styleId");a&&(o[a]={skinName:t.santaTypes.shortenStyleId(i.structure.skin),componentType:i.structure.componentType});var r=e.get(i.structure,["modes","overrides"]);e.forEach(r,function(e){var s=e.styleId;s&&n(s)&&(o[s]={skinName:t.santaTypes.shortenStyleId(i.structure.skin),componentType:i.structure.componentType})})}t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.svgshape.SvgShape",i),t.styleCollector.registerClassBasedStyleCollector("wysiwyg.viewer.components.PopupCloseIconButton",i)}.apply(t,n))||(e.exports=s)},436:function(e,t,i){var n,s;n=[i(1),i(437)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("comp",t)}.apply(t,n))||(e.exports=s)},437:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";var i=e.keyBy([t.siteConstants.ACTION_TYPES.SYNC_VALIDATION_DATA,t.siteConstants.ACTION_TYPES.SET_CUSTOM_VALIDITY,t.siteConstants.ACTION_TYPES.UPDATE_VALIDITY_INDICATION]);return{handle:function(t,n,s){var o=n.getSiteAspect("behaviorsAspect");e.forEach(t,function(e){o.registerBehavior(e,s.callback)}),e.some(t,function(t){return!e.has(i,t.name)})&&n.forceUpdate()}}}.apply(t,n))||(e.exports=s)},438:function(e,t,i){var n,s;n=[i(1),i(439)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("scrub",t)}.apply(t,n))||(e.exports=s)},439:function(e,t,i){var n,s;n=[i(0),i(1),i(440)],void 0===(s=function(e,t,i){"use strict";var n=t.behaviorsService.behaviorUniqueIdentifier,s={AnimateAfterScroll:i.animateAfterScroll,ScrubAnimation:i.scrubSequenceWithScroll},o=function(e){return a.behaviorToSequenceId[n(e)]};var a={behaviorToSequenceId:{},isEnabled:e.constant(!0),handle:function(t,r,p){var l=r.getSiteData();e.forEach(t,function(t){var d=r._site.getPageById(t.pageId),c=o(t),u=d.getSequence(c),h=i.getComponentMeasure(l,t.targetId);u?(s[t.name]||e.noop)(u,p,{compMeasures:h,behavior:t}):(c=i.createSequence(t,d,h),a.behaviorToSequenceId[n(t)]=c)})},cancel:function(e,t){t._site.getPageById(e.pageId).stopSequence(o(e),0),delete a.behaviorToSequenceId[n(e)]}};return a}.apply(t,n))||(e.exports=s)},440:function(e,t,i){var n,s;n=[i(0)],void 0===(s=function(e){"use strict";var t={HeaderFadeOut:200,HeaderHideToTop:400},i={HeaderFadeOut:.5,HeaderHideToTop:.25},n=function(e){return Math.max(Math.min(e,1),0)},s=function(t){return function(t){return!e.isNaN(t)&&t>=0}(t)?t:0};return{getComponentMeasure:function(e,t){return{height:e.measureMap.height[t],width:e.measureMap.width[t],top:e.measureMap.top[t],left:e.measureMap.left[t]}},animateAfterScroll:function(i,n,s){var o=s.behavior,a=e.head(o.params.animations).name,r="DOWN"===n.scroll.current.direction,p=n.scroll.accumulatedScroll,l=i.progress(),d=!r&&p>100&&l>0;r&&p>t[a]&&l<1?i.play():d&&i.reverse()},scrubSequenceWithScroll:function(t,i,o){var a=o.compMeasures,r=t.progress(),p=function(e,t,i,o){var a=s(e.position.y),r=s(t.position.y),p=Math.abs(r-a)/o,l="DOWN"===e.direction?1:-1;return n(i+l*p*.5)}(i.scroll.current,i.scroll.previous,r,a.height);e.isFinite(p)&&p!==r&&t.progress(p)},createSequence:function(t,n,s){var o=t.targetId,a=e.get(t,["params","animations"],[]),r=n.sequence();return e.forEach(a,function(n){var a=e.defaultsDeep(n,function(e,t,n){return{targetId:e,duration:i[n]||0,delay:0,params:{compMeasures:t}}}(t.targetId,s,n.name)),p=a.name,l=a.duration,d=a.delay,c=a.params;r.add(o,p,l,d,c)}),r.execute({suppressReactRendering:!1,forgetSequenceOnComplete:!1,paused:!0})}}}.apply(t,n))||(e.exports=s)},441:function(e,t,i){var n,s;n=[i(1),i(442)],void 0===(s=function(e,t){"use strict";e.behaviorHandlersFactory.registerHandler("animation",t)}.apply(t,n))||(e.exports=s)},442:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";function i(t,i){var n=i.getSiteData();return!n.isMobileView()?"MOBILE"!==t.viewMode:!!function(t){var i=t.getDataByQuery("masterPage");return e.has(i,["mobileSettings","animationsEnabled"])}(n)&&function(e){return e&&(!e.viewMode||"MOBILE"===e.viewMode)}(t)}return{handle:function(n,s,o){var a=s.getSiteData(),r=s.getRuntimeDal(),p=o.group||o.action,l=e.get(o,"clear",!0),d=e(n).filter(function(e){var n=(r.getCompProps(e.targetId)||{}).isCollapsed,o=i(e,s),a=t.animationsService.isAnimationPlayable(s,e);return!n&&o&&a}).map(function(t){return e.omit(e.defaultsDeep({},t,e.find(a.animations.viewerDefaults,{name:t.name})),"action")}).value();e.isEmpty(d)?e.defer(function(){e.get(o,"callback",e.noop)()}):t.animationsService.playAnimations(s,p,d,l,o.callback||e.noop)},handlePreCondition:function(e,i){t.animationsService.hideElementsByAnimationType(i,[e])},cancelPreCondition:function(e,i){t.animationsService.revertHideElementsByAnimations(i,[e])},isEnabled:i}}.apply(t,n))||(e.exports=s)},443:function(e,t,i){var n,s;n=[i(0),i(2),i(27),i(3)],void 0===(s=function(e,t,i,n){"use strict";function s(){var t=this.getFontSize("fnt");if(this.props.isMobileView){var i=e.max([13,Number(t.fontSize.replace("px",""))]);t.fontSize=i+"px"}return t}var o=i.labelUtils,a={displayName:"TextInput",mixins:[i.baseTextInput,i.textScaleMixin,t.mixins.inputFocusMixin],propTypes:{compProp:t.santaTypesDefinitions.Component.compProp.isRequired,isResponsive:t.santaTypesDefinitions.RendererModel.isResponsive,isMobileView:t.santaTypesDefinitions.isMobileView},statics:{behaviors:e.assign({},i.baseTextInput.BASE_TEXT_BEHAVIORS,t.mixins.inputFocusMixin.INPUT_FOCUS_BEHAVIORS)},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},measureComponent:function(e){var t=this.refs.label,i=o.measureComponentWithLabel(this.props.compProp,t,this.props.compData,this.props.isMobileView);if(i)return[{node:e,type:"css",changes:{height:i}}]},getSkinProperties:function(){var t=this.props,i=t.compProp,n=t.isMobileView,a=t.isResponsive,r=t.compData,p=t.compTheme,l={"with-validation-indication":this.shouldShowValidityIndication(),required:o.showRequired(r,i,p)};l[this.props.compProp.textAlignment+"-direction"]=!0;var d={compId:this.props.id,inputId:"input"},c=e.merge(this.getBaseTextInputSkinProperties(),o.getBaseInputWithLabelSkinProperties({compProp:i,rawFontSyle:this.getFontSize("fntlbl"),isMobileView:n,compData:r,id:d}));c[""]={className:this.classSet(l),"data-disabled":!!this.props.compProp.isDisabled,"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState()};var u="padding"+e.capitalize(this.props.compProp.textAlignment);return c.input=e.merge({style:s.call(this)},c.input,{"data-preview":e.isFunction(this.getComponentPreviewState)&&this.getComponentPreviewState(),className:"has-custom-focus"}),a&&e.assign(c.input,{size:"1"}),c.input.style[u]=this.props.compProp.textPadding,c}};return n.compRegistrar.register("wysiwyg.viewer.components.inputs.TextInput",a),a}.apply(t,n))||(e.exports=s)},444:function(e,t,i){var n,s;n=[i(0),i(4),i(7),i(1),i(10),i(3),i(5),i(2),i(49),i(60)],void 0===(s=function(e,t,i,n,s,o,a,r,p,l){"use strict";var d=p.utils.galleriesHelperFunctions,c=n.matrixScalingCalculations;function u(e,t,i){this.state.currentIndex!==e&&(this.props.onImageSelected&&(t.type="imageSelected",t.payload={itemIndex:e,imageData:this.props.compData.items[e]},this.props.onImageSelected(t,i)),this.setState({currentIndex:e}))}function h(e,t){return e.dimensions?e.dimensions[t]:parseFloat(e.style[t])}function m(t,i){var n=i.props.selectedItemIndex||0;return{currentIndex:e.get(t,["currentIndex"],n)}}var g={displayName:"SliderGallery",statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},mixins:[o.mixins.skinBasedComp,o.mixins.skinInfo,r.mixins.animationsMixin,s.timersMixins.timeoutsMixin,r.mixins.compStateMixin(m),o.mixins.createChildComponentMixin],propTypes:e.assign({isExperimentOpen:r.santaTypesDefinitions.isExperimentOpen,id:r.santaTypesDefinitions.Component.id.isRequired,rootId:r.santaTypesDefinitions.Component.rootId.isRequired,compData:r.santaTypesDefinitions.Component.compData.isRequired,compProp:r.santaTypesDefinitions.Component.compData.isRequired,skin:r.santaTypesDefinitions.Component.skin.isRequired,style:r.santaTypesDefinitions.Component.style.isRequired,dimensions:r.santaTypesDefinitions.Component.dimensions,isMobileView:r.santaTypesDefinitions.isMobileView,isMobileDevice:r.santaTypesDefinitions.Device.isMobileDevice,isTabletDevice:r.santaTypesDefinitions.Device.isTabletDevice,windowTouchEventsAspect:r.santaTypesDefinitions.SiteAspects.windowTouchEvents.isRequired,getSliderGalleryMeasures:r.santaTypesDefinitions.__DangerousSantaTypes.getSliderGalleryMeasures,onImageSelected:t.func},r.utils.santaTypesUtils.getSantaTypesByDefinition(l)),_currentOffset:null,_motion:!1,_firstChild:null,getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),e.assign(m(null,{props:this.props.compProp}),{$mobile:this.props.isMobileDevice||this.props.isTabletDevice()?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView"})},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getSkinProperties:function(){this.gap=e.isNumber(this.props.compProp.margin)?this.props.compProp.margin:20,this.contentOverflow=!1;var t=a.skinsMap.get(this.props.skin),i=t.exports&&t.exports.bottomGap||0,n=Math.abs(this.getFromExports("itemContainerAdditionalHeight")),s=this.populate(i,n),o=Math.abs(this.getFromExports("itemContainerTotalOffset")),r=h(this.props,"width")-o;return this.itemsHolderWidth>r&&(this.contentOverflow=!0,s=this.populate(i,n)),{imageItem:{},images:{children:s,"data-gallery-id":this.props.id},swipeLeftHitArea:{onMouseEnter:this.prev,onMouseLeave:this._stopMovement,onTouchStart:this.prev,"data-gallery-id":this.props.id},swipeRightHitArea:{onMouseEnter:this.next,onMouseLeave:this._stopMovement,onTouchStart:this.next,"data-gallery-id":this.props.id},"":{onSwipeLeft:this.next,onSwipeRight:this.prev,"data-height-diff":d.getSkinHeightDiff(this.props.skin),"data-width-diff":d.getSkinWidthDiff(this.props.skin),"data-image-mode":this.props.compProp.imageMode,"data-aspect-ratio":this.props.compProp.aspectRatio,"data-bottom-gap":i,"data-additional-height":n}}},getChildrenData:function(){var e=this.props.compData.items;return this.props.compProp.loop&&this.contentOverflow?e.concat(e):e},populate:function(t,i){var n=this.props.compProp,s=this.props.compData;return this.itemsHolderWidth=0,this.getChildrenData().map(function(o,r){var p=o,l=this.getSkinExports().imageItem.skin,m=this.getParams(["topPadding","imgHeightDiff"],l),g=a.skinsMap.get(l),y=d.getDisplayerHeightDiff(g,m,this.state.$displayDevice),f=d.getDisplayerWidthDiff(g,this.state.$displayDevice),v=Math.floor(h(this.props,"height")+i),b=this.props.compData.items.length,P=c.getSizeAfterScaling({itemHeight:v,itemWidth:Math.floor(v*(this.props.compProp.aspectRatio||1)),displayerData:p,imageMode:this.props.compProp.imageMode,heightDiff:y,widthDiff:f,bottomGap:t});return this.itemsHolderWidth=this.itemsHolderWidth+P.imageWrapperSize.imageWrapperWidth+this.gap,this.createChildComponent(p,"wysiwyg.viewer.components.Displayer","imageItem",{currentUrlPageId:this.props.currentUrlPageId,galleryDataId:s.id,imageWrapperSize:P.imageWrapperSize,style:{display:"inline-block",margin:"0 "+(e.isNumber(n.margin)?n.margin:20)+"px 0 0",height:P.displayerSize.height,width:P.displayerSize.width},isSelected:this.state.currentIndex===r,onClick:u.bind(this,r),displayerDataQuery:o,galleryId:this.props.id,heightDiff:y,widthDiff:f,bottomGap:t,imageIndex:r%b,key:this.props.id+p.id+"_"+r,ref:"displayer"+r,id:this.props.id+"displayer"+r})},this)},prev:function(){this._move(!0)},next:function(){this._move(!1)},_move:function(e){var t=this.props.compProp.maxSpeed||.05;this.slide(e,t,this.props.compProp.loop)},_stopMovement:function(){this._sequenceId&&(this.easeStopSequence(this._sequenceId,1),this._sequenceId=null)},slide:function(e,t,s){if(this.contentOverflow){var o=this.props.getSliderGalleryMeasures(this.props.id),a=o.imagesWidth-(this.props.compProp.margin||0),r=o.itemsContainerWidth,p=i.findDOMNode(this.refs.images).offsetLeft,l=s?-a/2:r-a;this._stopMovement();var d=this.sequence(),c=Math.abs(l)/(60*t),u=c*(e?Math.abs(p/l):1-Math.abs(p/l));d.add("images","BasePosition",u,0,{from:{left:p},to:{left:e?0:l},ease:"Linear.easeNone"}),s&&d.add("images","BasePosition",c,0,{from:{left:e?l:0},to:{left:e?0:l},repeat:s?-1:0,immediateRender:!1,ease:"Linear.easeNone"}),d.onCompleteAll(function(){var e=this.props.compData.items[this.state.currentIndex];this.handleAction(n.siteConstants.ACTION_TYPES.IMAGE_CHANGED,{item:e,imageIndex:this.state.currentIndex})}.bind(this)),this._sequenceId=d.execute({paused:!0}),this.easeStartSequence(this._sequenceId,1),"mobile"===this.state.$mobile&&(this.clearTimeoutNamed(this.props.id),this._nextStopTimeout=this.setTimeoutNamed(this.props.id,function(){this._stopMovement()}.bind(this),2e3))}},onWindowTouchStart:function(e){(e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id"))!==this.props.id&&this._stopMovement()}};return o.compRegistrar.register("wysiwyg.viewer.components.SliderGallery",g),g}.apply(t,n))||(e.exports=s)},445:function(e,t,i){var n,s;n=[i(0),i(4),i(10),i(1),i(21),i(49),i(2),i(3)],void 0===(s=function(e,t,i,n,s,o,a,r){"use strict";var p={numCols:3,maxRows:3,margin:0,transition:"seq_crossFade_All",transDuration:1,autoplayInterval:3,autoplay:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0},l=n.linkRenderer,d=n.matrixCalculations,c=o.utils.galleriesHelperFunctions,u=r.utils.galleryPagingCalculations,h=r.utils.matrixAnimationManipulation;function m(t,i){var s=e.defaults({href:i.href||"#",style:e.assign({height:"100%",display:"block",width:"100%",position:"absolute",top:"0px",left:"0px",backgroundColor:"#ffffff",filter:"alpha(opacity=0)",opacity:"0",cursor:i.cursor},n.style.prefix({userSelect:"none",userDrag:"none",userModify:"read-only"}))},i);return i.href||(s.onClick=function(i){var s,o;this.props.handleAction({type:"comp",name:n.siteConstants.ACTION_TYPES.ITEM_CLICKED,sourceId:this.props.id,pageId:this.props.rootId},(s=t,o=e.get(this.state,"currentIndex"),{item:s,timeStamp:n.loggingUtils.performance.now(),imageIndex:o,name:n.siteConstants.ACTION_TYPES.ITEM_CLICKED})),i.preventDefault(),i.stopPropagation()}.bind(this)),a.utils.createReactElement("a",s)}function g(e){return e?e.description:""}function y(t){return{currentIndex:e.get(t,"currentIndex",0),isPlaying:"autoplayOn"===e.get(t,"$slideshow","autoplayOff")}}var f={displayName:"PaginatedGridGallery",mixins:[r.mixins.skinBasedComp,o.mixins.galleryAutoPlayMixin,a.mixins.animationsMixin,i.timersMixins.timeoutsMixin,a.mixins.compStateMixin(y),r.mixins.createChildComponentMixin],propTypes:e.assign({compProp:a.santaTypesDefinitions.Component.compProp.isRequired,compData:a.santaTypesDefinitions.Component.compData.isRequired,id:a.santaTypesDefinitions.Component.id.isRequired,skin:a.santaTypesDefinitions.Component.skin.isRequired,style:a.santaTypesDefinitions.Component.style.isRequired,linkRenderInfo:a.santaTypesDefinitions.Link.renderInfo.isRequired,rootNavigationInfo:a.santaTypesDefinitions.Component.rootNavigationInfo.isRequired,dimensions:a.santaTypesDefinitions.Component.dimensions,isZoomOpened:a.santaTypesDefinitions.isZoomOpened.isRequired,windowTouchEventsAspect:a.santaTypesDefinitions.SiteAspects.windowTouchEvents.isRequired,isMobileView:a.santaTypesDefinitions.isMobileView,isMobileDevice:a.santaTypesDefinitions.Device.isMobileDevice,isMeshLayoutMechanism:a.santaTypesDefinitions.Layout.isMeshLayoutMechanism.isRequired,isTabletDevice:a.santaTypesDefinitions.Device.isTabletDevice,isPlayingAllowed:a.santaTypesDefinitions.RenderFlags.isPlayingAllowed,getPaginatedGridGalleryMeasures:a.santaTypesDefinitions.__DangerousSantaTypes.getPaginatedGridGalleryMeasures,onAnimationCompleteCallback:t.func,createGalleryItem:t.func,getItemRef:t.func,registerReLayout:t.func,compActions:a.santaTypesDefinitions.Component.compActions.isRequired},a.utils.santaTypesUtils.getSantaTypesFromPropTypes(a.components.Image.propTypes)),statics:{behaviors:{nextSlide:{methodName:"next"},prevSlide:{methodName:"prev"}}},getInitialState:function(){return this.props.windowTouchEventsAspect.registerToWindowTouchEvent("touchStart",this),this.isAnimating=!1,this.prevCompProps=e.cloneDeep(this.props.compProp),e.assign(y(),{hoveredImage:null,$itemSelection:"idle",$mobile:this.props.isMobileDevice||this.props.isTabletDevice()?"mobile":"notMobile",$displayDevice:this.props.isMobileView?"mobileView":"desktopView",$animationInProcess:null,$touchRollOverSupport:"touchRollOut"})},componentWillReceiveProps:function(t){var i=!1,n={$mobile:t.isMobileDevice||t.isTabletDevice()?"mobile":"notMobile",$displayDevice:t.isMobileView?"mobileView":"desktopView"};if(this.prevCompProps.autoplay!==t.compProp.autoplay){var s=t.compProp.autoplay&&!this.props.isZoomOpened&&this.props.isPlayingAllowed?"autoplayOn":"autoplayOff";i=!0,n.shouldAutoPlay=t.compProp.autoplay,n.$slideshow=s}this.prevCompProps=e.cloneDeep(t.compProp),this.setState(n,function(){i&&(this.updateAutoplayState(),this.handleAction(n.$slideshow))}.bind(this))},componentDidMount:function(){this.updateAutoplayState()},componentWillUnmount:function(){this.props.windowTouchEventsAspect.unregisterFromWindowTouchEvent("touchStart",this)},getButtonVisibility:function(e,t){return!1===this.props.compProp.showNavigation||this.state.currentIndex===e&&this.state.currentIndex===t||this.props.compProp.isHidden?"hidden":"visible"},getSkinProperties:function(){var t,i,n,s=e.defaults(this.props.compProp,p),o=this.props.compData,a=u.getPageItems(o.items,this.state.currentIndex,s.numCols,s.maxRows),r=this.state.hoveredImage?this.state.hoveredImage.props.compData:null,d=this.state.hoveredImage?function(t,i,n,s,o,a,r,p,l){var d,c,u,h={},m="Go to link",g="pointer",y=(d=i.expandEnabled,c=i.galleryImageOnClickAction,(u=c)||(u=!0===d?"zoomMode":"disabled"),u),f=void 0;return t.link&&(f=s(a,p,n)),i.goToLinkText&&(m=i.goToLinkText),"zoomMode"===y?h=o(p,n,t,r,void 0,l):f&&"goToLink"===y?h=f:g="default",e.assign(h,{linkData:f,goToLinkText:m,cursor:g,clickAction:y}),h}(r,s,this.props.rootNavigationInfo,l.renderLink,l.renderImageZoomLink,r.link,o.id,this.props.linkRenderInfo,this.props.id):{},h=u.getNextPageItemIndex(this.state.currentIndex,s.numCols,s.maxRows,o.items.length),y=u.getPrevPageItemIndex(this.state.currentIndex,s.numCols,s.maxRows,o.items.length),f=u.getPageItems(o.items,h,s.numCols,s.maxRows),v=u.getPageItems(o.items,y,s.numCols,s.maxRows),b=this.getButtonVisibility(h,y),P=!this.props.compProp.isHidden&&this.props.compProp.showCounter&&a.length>0?"visible":"hidden",S=this.classSet({"show-counter":"hidden"!==b||"hidden"!==P});return{"":{"data-height-diff":c.getSkinHeightDiff(this.props.skin),"data-width-diff":c.getSkinWidthDiff(this.props.skin),"data-num-cols":this.props.compProp.numCols,"data-max-rows":this.props.compProp.maxRows,"data-margin":this.props.compProp.margin,"data-is-mesh":this.props.isMeshLayoutMechanism,onMouseLeave:function(e,t){this.onRollOut(e,t,!0)}.bind(this),style:{overflow:"hidden"}},itemsContainer:{children:this.createDisplayedItems(a,f,v,h,y),"data-gallery-id":this.props.id,className:S,style:{position:"relative",overflow:"hidden",width:this.props.style.width-c.getSkinWidthDiff(this.props.skin),height:this.props.style.height-c.getSkinHeightDiff(this.props.skin)}},buttonPrev:{onClick:function(e){e&&e.stopPropagation(),this.prev()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:b}},buttonNext:{onClick:function(e){e&&e.stopPropagation(),this.next()}.bind(this),"data-gallery-id":this.props.id,style:{visibility:b}},counter:{children:u.getCounterText(this.state.currentIndex,s.numCols,s.maxRows,o.items.length),style:{visibility:P},"data-gallery-id":this.props.id},autoplay:{onClick:this.toggleAutoPlay,"data-gallery-id":this.props.id,style:{cursor:"pointer",visibility:this.shouldShowAutoPlay()?"visible":"hidden"}},rolloverHolder:{style:this.state.hoveredImage?(i=this.state.hoveredImage,n=this.props.skin,{visibility:"visible",position:"absolute",cursor:"pointer",padding:0,left:parseInt(i.props.style.left,10)+c.getSkinWidthDiff(n)/2,top:parseInt(i.props.style.top,10),width:parseInt(i.props.containerWidth,10),height:parseInt(i.props.containerHeight,10)}):{visibility:"hidden",cursor:"pointer"},"data-gallery-id":this.props.id,"data-hovered-image-id":r?r.id:"",addChildBefore:[m.call(this,r,d),"link"]},title:{children:this.state.hoveredImage?(t=r,t?t.title:""):"","data-gallery-id":this.props.id},description:{children:this.state.hoveredImage?g(r):"","data-gallery-id":this.props.id},link:d.linkData&&e.merge(d.linkData,{children:d.goToLinkText,"data-gallery-id":this.props.id,refInParent:"link",style:{display:"goToLink"!==d.clickAction&&d.linkData?"block":"none"}}),textWrapper:{"data-gallery-id":this.props.id}}},onMouseEnter:function(e){var t=this.refs[e];this.state.hoveredImage!==t&&(this.props.isMeshLayoutMechanism&&this.registerReLayout(),this.setState({hoveredImage:t,$itemSelection:"rollover"}))},onRollOut:function(e,t,i){("IMG"!==e.target.tagName||i)&&this.setState({hoveredImage:null,$itemSelection:"idle"})},onComponentTouchStart:function(e){this.onMouseEnter(e),"touchRollOut"===this.state.$touchRollOverSupport&&this.setState({$touchRollOverSupport:"touchRollOver"})},onWindowTouchStart:function(e){var t=e.target.getAttribute("data-gallery-id")||e.target.parentNode.getAttribute("data-gallery-id");"touchRollOver"===this.state.$touchRollOverSupport&&t!==this.props.id&&(this.onRollOut({target:""},null,!0),this.setState({$touchRollOverSupport:"touchRollOut"}))},next:function(e){this.movePage(!1,e)},prev:function(e){this.movePage(!0,e)},movePage:function(t,i){var n=this.props.compProp,s=this.props.compData,o=t?u.getPrevPageItemIndex(this.state.currentIndex,n.numCols,n.maxRows,s.items.length):u.getNextPageItemIndex(this.state.currentIndex,n.numCols,n.maxRows,s.items.length);if(this.isAnimating||o===this.state.currentIndex)return this._movePageQueue||(this._movePageQueue=[]),void this._movePageQueue.push(t);var a=u.getPageItems(s.items,o,n.numCols,n.maxRows),r=u.getPageItems(s.items,this.state.currentIndex,n.numCols,n.maxRows),p=void 0,l=void 0;this.props.createGalleryItem?(p=this.convertDataItemsToRefs(r,this.state.currentIndex),l=this.convertDataItemsToRefs(a,o)):(p=e.map(r,"id"),l=e.map(a,"id")),a&&(this.props.registerReLayout?this.props.registerReLayout():this.registerReLayout(),this.setState({$animationInProcess:"animationInProcess",$itemSelection:"idle"},function(){this.performAnimation(p,l,t,o,i)}))},performAnimation:function(t,i,n,s,o){var a=this.props.compProp,r=d.getAvailableRowsNumber(a.maxRows,a.numCols,this.props.compData.items.length),p=h.getSortedArrayAndStagger(a.transition,t,i,r,a.numCols,this.timingFunctionIndex||0),l=p.transName,u=this.props.getPaginatedGridGalleryMeasures(this.props.id),m=function(e,t,i,n,s,o){var a=d.getItemWidth(e.margin,e.numCols,t,c.getSkinWidthDiff(s)),r=d.getItemHeight(e.margin,i,n,c.getSkinHeightDiff(s)),p=t-c.getSkinWidthDiff(s)+e.margin,l=i-c.getSkinHeightDiff(s)+e.margin;return{width:"Shrink"===o?a:p,height:"Shrink"===o?r:l}}(a,u.width||this.props.style.width,u.height||this.props.style.height,r,this.props.skin,l);this.timingFunctionIndex=p.timingFunctionIndex+1;var g,y,f,v="none"===a.transition?0:a.transDuration,b=p.stagger,P=this.sequence(),S=p.sporadicallyRandom&&p.sourceNodesArrSorted.length>1;p.sourceNodesArrSorted.length!==p.destNodesArrSorted.length&&(g=p.sourceNodesArrSorted,y=p.destNodesArrSorted,f=Math.max(g.length,y.length),e.times(f,function(e){g[e]||(g[e]="emptyDivToFillMatrix"),y[e]||(y[e]="emptyDivToFillMatrix")})),e.forEach(p.sourceNodesArrSorted,function(e,t){var i=p.destNodesArrSorted[t],s={width:m.width,height:m.height,reverse:S?Math.random()>.5:!!n},o=b;"Shrink"!==l&&"CrossFade"!==l||(s.stagger=b,o=0),P.add({sourceRefs:e,destRefs:i},l,v,0,s,t*o)}),P.onStartAll(function(){this.isAnimating=!0}.bind(this)).onCompleteAll(function(){this.animationCompleteCallback(s,o)}.bind(this)).execute()},animationCompleteCallback:function(t,i){this.isAnimating=!1,this.props.onAnimationCompleteCallback&&this.props.onAnimationCompleteCallback(),this.setState({currentIndex:t,$animationInProcess:null},function(){this.updateAutoplayState(),e.isFunction(i)&&i()}.bind(this)),this._movePageQueue&&this._movePageQueue.length>0&&setTimeout(function(){this.movePage(this._movePageQueue.shift())}.bind(this),100)},createDisplayedItems:function(t,i,n,s,o){var a=this.props.compProp,r=this.props.compData,p=parseFloat(this.props.style.width),l=d.getItemWidth(a.margin,a.numCols,p,c.getSkinWidthDiff(this.props.skin)),u=d.getAvailableRowsNumber(a.maxRows,a.numCols,r.items.length),h=d.getItemHeight(a.margin,this.props.style.height,u,c.getSkinHeightDiff(this.props.skin)),m=[],g=[],y=e.map(t,function(e,i){return this.createGalleryItem(e,i,l,h,this.state.currentIndex,t.length,"curr")}.bind(this));return s!==this.state.currentIndex&&(m=e.map(i,function(e,t){return this.createGalleryItem(e,t,l,h,s,i.length,"next",{visibility:"hidden"})}.bind(this))),o!==s&&o!==this.state.currentIndex&&(g=e.map(n,function(e,t){return this.createGalleryItem(e,t,l,h,o,n.length,"prev",{visibility:"hidden"})}.bind(this))),m.concat(g).concat(y)},createGalleryItem:function(e,t,i,n,s,o,a,r){return this.props.createGalleryItem?this.props.createGalleryItem(this.props.id,e,t,s,o,r,this.classSet):this.createImageItem(e,t,i,n,s,a,r)},convertDataItemsToRefs:function(e,t){for(var i=[],n=0;n<e.length;n++){var s=this.props.getItemRef?this.props.getItemRef(this.props.id,t,n):this.getImageItemRef(t,n);i.push(s)}return i},getImageItemRef:function(e,t){return this.props.id+e+t},createImageItem:function(t,i,n,o,a,r,p){var l=d.getItemPosition(i,n,o,this.props.compProp.margin,this.props.compProp.numCols),c=d.getImageStyle(o,n,t.height,t.width);return this.createChildComponent(t,"core.components.Image","img",{id:this.props.id+t.id,ref:t.id,key:t.id,imageData:t,containerWidth:Math.round(n),containerHeight:Math.round(o),displayMode:s.fittingTypes.SCALE_TO_FILL,imgStyle:c,"data-gallery-id":this.props.id,"data-page-desc":r,"data-query":t.id,"data-image-index":a+i,onMouseEnter:this.onMouseEnter.bind(this,t.id),onTouchStart:this.onComponentTouchStart.bind(this,t.id),style:e.merge({left:l.left,top:l.top,position:"absolute",overflow:"hidden",transform:"none",clip:"auto"},p)})}};return r.compRegistrar.register("wysiwyg.viewer.components.PaginatedGridGallery",f),f}.apply(t,n))||(e.exports=s)},446:function(e,t,i){var n,s,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,s=!1,o=void 0;try{for(var a,r=e[Symbol.iterator]();!(n=(a=r.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{!n&&r.return&&r.return()}finally{if(s)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}n=[i(0),i(120),i(2),i(3)],void 0===(s=function(e,t,i,n){"use strict";var s=i.santaTypesDefinitions,r=t.mediaLogicMixins.fill,p=n.mixins.createChildComponentMixin,l=i.mixins,d=l.scrollMixin,c=l.inlineContentMixin,u=i.utils,h=u.lightboxLayerHelper,m=u.pinnedLayerHelper,g=function(e){var t,i={left:"left",right:"right",center:"hCenter"},n={top:"top",bottom:"bottom",center:"vCenter"};return"nineGrid"===e.alignmentType?(a(t={},i[e.horizontalAlignment],{px:e.horizontalOffset}),a(t,n[e.verticalAlignment],{px:e.verticalOffset}),t):"fullHeight"===e.alignmentType?a({top:{px:0},bottom:{px:0}},i[e.horizontalAlignment],{px:0}):"fullWidth"===e.alignmentType?a({left:{px:0},right:{px:0}},n[e.verticalAlignment],{px:0}):void 0},y=function(t,i){return[e.defaults({docked:g(i)},t.components[0])]},f={displayName:"WixPage",mixins:[r,n.mixins.skinBasedComp,d,p,c],propTypes:{id:i.santaTypesDefinitions.Component.id,compProp:i.santaTypesDefinitions.Component.compProp.isRequired,compDesign:i.santaTypesDefinitions.Media.Popup.data,compStaticBehaviors:i.santaTypesDefinitions.Component.compStaticBehaviors,defaultBackgroundStyle:i.santaTypesDefinitions.Container.defaultBackgroundStyle.isRequired,isExperimentOpen:i.santaTypesDefinitions.isExperimentOpen,isMobileView:i.santaTypesDefinitions.isMobileView.isRequired,isMobileDevice:i.santaTypesDefinitions.Device.isMobileDevice.isRequired,isMeshLayoutMechanism:i.santaTypesDefinitions.Layout.isMeshLayoutMechanism.isRequired,meshParams:i.santaTypesDefinitions.Component.meshParams,layoutContainerClassName:i.santaTypesDefinitions.Layout.layoutContainerClassName,closePopupPage:i.santaTypesDefinitions.popupPage.close,siteWidth:i.santaTypesDefinitions.siteWidth.isRequired,siteScrollingBlocker:i.santaTypesDefinitions.SiteAspects.siteScrollingBlocker.isRequired,markVisitedPage:i.santaTypesDefinitions.Page.markVisitedPage,renderParts:i.santaTypesDefinitions.Media.Popup.renderParts,pageStub:s.Component.pageStub,pageMinHeightDefault:i.santaTypesDefinitions.pageMinHeightDefault.isRequired,playbackUrl:i.santaTypesDefinitions.Media.Popup.playbackUrl,playbackFormat:i.santaTypesDefinitions.Media.Popup.playbackFormat,playbackConfig:i.santaTypesDefinitions.Media.Popup.playbackConfig,defaultContentArea:i.santaTypesDefinitions.Container.defaultContentArea.isRequired,fixedChildrenIDs:s.Component.fixedChildrenIDs,pinnedChildrenIDs:s.Component.pinnedChildrenIDs,isPopupPage:s.Page.isPopupPage,popupAlignment:s.Page.popupAlignment,wixTopAdsHeight:s.WixAds.wixTopAdsHeight,isResponsive:s.RendererModel.isResponsive},statics:{behaviors:t.mediaBehaviors.fill},componentDidMount:function(){this.props.isPopupPage&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!0),this.props.markVisitedPage&&this.props.markVisitedPage(this.props.id)},componentWillUnmount:function(){this.props.isPopupPage&&this.props.isMobileView&&this.props.isMobileDevice&&this.props.siteScrollingBlocker.setSiteScrollingBlocked(this,!1)},shouldCloseOverlay:function(t){return e.get(this.props,["compProp",t,"popup","closeOnOverlayClick"])},getBalataProps:function(){var i,n,s,o=this.props.isMobileView?"mobile":"desktop";return{id:this.props.id,onClick:this.shouldCloseOverlay(o)?this.props.closePopupPage:null,bgStyle:(i=this.props.isMobileView,n=this.props.siteWidth,s=t.popupMediaStyle,i?e.defaults({width:n+"px",left:"",right:""},s):e.defaults({height:"auto"},s)),playbackFormat:this.props.playbackFormat,playbackConfig:this.props.playbackConfig,playbackUrl:this.props.playbackUrl}},getRootStyle:function(){return this.props.isPopupPage?{top:0,left:0,position:"relative"}:{position:"absolute"}},getSkinProperties:function(){return this.props.isPopupPage?this.getPopupPageSkinProperties():this.getPageSkinProperties()},isMobile:function(){return!(!this.props.isMobileView&&!this.props.isMobileDevice)},getPageMinHeight:function(){return e.get(this.props.compProp,[[this.isMobile()?"mobile":"desktop"],"minHeight"],0)||this.props.pageMinHeightDefault},getMeshOverridesParams:function(){return{minHeight:this.getPageMinHeight(),fitToContentHeight:!0,fitToContentPadding:e.get(this.getSkinExports(),"paddingBottom",0),width:this.props.siteWidth}},renderChildrenForMesh:function(){var t=this.props,i=t.id,n=t.browser,s=t.pinnedChildrenIDs,a=t.wixTopAdsHeight,r=e.partition(this.props.children,function(e){return!!s[e.props.id]}),p=o(r,2),l=p[0],d=p[1],c=e.filter(this.props.meshParams.components,function(t){return!0===e.get(t,"isFixed",!1)&&e.has(t,"docked")});return[m.createPinnedLayer({id:i+"-pinned-layer",children:l,childrenMeshParams:c,browser:n,wixTopAdsHeight:a})].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(this.getChildrenRenderer({overrides:this.getMeshOverridesParams(),contentArea:this.props.defaultContentArea,children:d})))},renderChildrenForMeshPopup:function(){var e=this.props,t=e.id,i=e.browser,n=e.meshParams,s=e.popupAlignment;return[h.createLightboxLayer({id:t,children:this.props.children,childrenMeshParams:y(n,s),browser:i,isFixedLayer:!1})]},getResponsiveChildrenRenderer:function(){var e=this,t=this.props,i=t.fixedChildrenIDs,n=t.children,s=t.wixTopAdsHeight,o=t.browser,a=[];return n.forEach(function(t){a.push(i.includes(t.props.id)?m.createPinnedLayer({id:t.props.id+"-pinned-layer",children:[t],childrenMeshParams:{},browser:o,wixTopAdsHeight:s}):e.getChildrenRenderer({overrides:e.getMeshOverridesParams(),contentArea:e.props.defaultContentArea,children:[t]}))}),a},getPageInlineContentChildren:function(){var e=this.props,t=e.isMeshLayoutMechanism,i=e.isPopupPage;return e.isResponsive?this.getResponsiveChildrenRenderer():t?i?this.renderChildrenForMeshPopup():this.renderChildrenForMesh():this.getChildrenRenderer({overrides:this.getMeshOverridesParams(),contentArea:this.props.defaultContentArea})},getPageSkinProperties:function(t){var i=this.props,n=i.isMeshLayoutMechanism,s=i.isResponsive,o=n?"auto":this.props.structure.layout.height,a=e.assign({height:o,left:0},n?{height:"100%",position:"relative"}:{minWidth:this.props.siteWidth,minHeight:this.getPageMinHeight()});return{"":{"data-ismobile":this.isMobile(),"data-is-mesh-layout":n,style:s?{}:a},bg:{style:this.props.defaultBackgroundStyle},inlineContent:e.assign(t,{className:this.props.layoutContainerClassName,children:this.getPageInlineContentChildren()})}},getPopupPageSkinProperties:function(){var t=this.props,i=t.isMeshLayoutMechanism,n=t.isResponsive,s=e.assign({pointerEvents:"none",minHeight:"100vh",minWidth:this.props.siteWidth},this.getRootStyle(),i&&{position:"relative",height:"auto",display:"grid"}),o=e.omit(this.getPageSkinProperties(),n?[""]:[".style"]);return e.merge(o,{"":{style:n?{pointerEvents:"none",position:"absolute",top:0,left:0,width:"100%",height:"auto",minHeight:"100vh"}:s,"data-ispopup":this.props.isPopupPage},bg:this.createFillLayers(this.getBalataProps())})}};return n.compRegistrar.register("wixapps.integration.components.AppPage",f).register("mobile.core.components.Page",f),f}.apply(t,n))||(e.exports=s)},447:function(e,t,i){var n,s;n=[i(0),i(21),i(1),i(2),i(120),i(46),i(3)],void 0===(s=function(e,t,i,n,s,o,a){"use strict";var r=t.fittingTypes,p="100%",l="100%",d=0,c="120%",u=0,h=1920,m=1e3,g=i.mediaConsts,y=i.containerBackgroundUtils;function f(t,i){var n=e.get(t,"scrollType"),s=e.get(t,["mediaRef","type"]);return(!("Image"===s||"WixVideo"===s)||function(e){return e.isMobileView?"viewport"!==e.compData.mediaSizing:!e.fixedSiteBackground}(i)||i.isAndroidOldBrowser)&&(n="scroll"),n}function v(e,t){var i=t?m:h,n=Math.min(i,e.width);return{width:n,height:Math.min(i,Math.round(n/(e.width/e.height)))}}function b(t,n,s){var o=function(t,i){var n="absolute";return"WixVideo"!==e.get(t,["mediaRef","type"])&&"fixed"!==i&&"parallax"!==i||(n="fixed"),n}(n,f(n,t)),a={top:0,height:l,width:p,backgroundColor:i.colorParser.getColor(t.colorsMap,n.color),display:s?"none":"",position:o};return"fixed"===o&&(t.isMobileView?a.willChange="transform":a.top=t.style.top+"px"),a}function P(e){var t=l;return"parallax"===e&&(t=c),t}function S(e){var t=d;return"parallax"===e&&(t=u),t}function T(n,s){var o,a=s.mediaRef,l=f(s,n),d={position:"absolute",top:S(l),height:P(l),width:p,opacity:a&&a.opacity};if(n.isMobileView&&"fixed"===l&&(d.willChange="transform"),n.shouldRenderSrc&&"Image"===(o=s,e.get(o,["mediaRef","type"],"Color"))){var c=function(n,s){var o=s.mediaRef,a=v(o,n.isMobileView),p=y.getImageUrlPreMeasureParams(a,o,s.fittingType,s.alignType,n.isMobileView,n.isInSeo),l={width:p.width,height:p.height,htmlTag:"bg",alignment:s.alignType,devicePixelRatio:p.devicePixelRatio},d={width:o.width,height:o.height,id:o.uri},c=t.getData(p.fittingType,d,l,e.pick(p,"filters")),u=t.getData(s.fittingType,d,e.assign(l,a)),h=i.urlUtils.isExternalUrl(c.uri)?c.uri:i.urlUtils.joinURL(n.staticMediaUrl,c.uri),m=e.assign({},u.css.container,p.imageCss);(function(e){return e.isMobileView&&"viewport"===e.compData.mediaSizing})(n)&&(m.backgroundPosition=u.css.container.backgroundPosition.replace(/(center|bottom)$/,"top"),s.fittingType===r.SCALE_TO_FILL&&(m.height="100vh"));return{url:h,css:m}}(n,s),u=c.url,h=c.css;d.backgroundImage="url("+u+")",e.assign(d,h)}return d}function k(t,i){var n=t.background,s=i.background,o=n.mediaRef||{},a=s.mediaRef||{},r=!n.mediaRef&&!s.mediaRef,p=r||o.type===a.type,l=t.mediaSizing===i.mediaSizing,d=["type","alignType","fittingType","scrollType","colorOverlay","colorOverlayOpacity","color","videoId","uri","opacity"];return"WixVideo"===o.type&&p?d=e.without(d,"color"):r&&(d=["color"]),p&&l&&function t(i,n,s,o){var a=e.every(o,function(e){return(i&&i[e])===(n&&n[e])});a=a&&e.every(s,function(e){return!i||t(i[e],n[e],s,o)});return a}(n,s,["mediaRef","imageOverlay"],d)}function M(e,t){var n=t.colorOverlay?i.colorParser.getColor(e.colorsMap,t.colorOverlay,t.colorOverlayOpacity):null,s=function(e,t){if(!t)return null;return"url("+i.urlUtils.joinURL(e.staticMediaUrl,t.uri)+")"}(e,t.imageOverlay);return{position:"absolute",top:0,width:p,height:l,backgroundImage:s,backgroundColor:n}}var D={displayName:"SiteBackground",mixins:[s.mediaLogicMixins.fill,a.mixins.skinBasedComp,n.mixins.animationsMixin,o.mixins.backgroundDetectionMixin,a.mixins.createChildComponentMixin],propTypes:e.defaults({id:n.santaTypesDefinitions.Component.id,compData:n.santaTypesDefinitions.Media.SiteBackground.data,actionsAspect:n.santaTypesDefinitions.SiteAspects.actionsAspect.isRequired,currentUrlPageId:n.santaTypesDefinitions.Component.currentUrlPageId,isMobileView:n.santaTypesDefinitions.isMobileView.isRequired,isInSeo:n.santaTypesDefinitions.isInSeo,isTouchDevice:n.santaTypesDefinitions.Device.isTouchDevice,isAndroidOldBrowser:n.santaTypesDefinitions.mobile.isAndroidOldBrowser,colorsMap:n.santaTypesDefinitions.Theme.colorsMap,staticMediaUrl:n.santaTypesDefinitions.ServiceTopology.staticMediaUrl,componentViewMode:n.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,hideSiteBackground:n.santaTypesDefinitions.RenderFlags.hideSiteBackground.isRequired,isPlayingAllowed:n.santaTypesDefinitions.RenderFlags.isPlayingAllowed,fixedSiteBackground:n.santaTypesDefinitions.BrowserFlags.fixedSiteBackground,renderParts:n.santaTypesDefinitions.Media.SiteBackground.renderParts,playbackFormat:n.santaTypesDefinitions.Media.SiteBackground.playbackFormat,playbackConfig:n.santaTypesDefinitions.Media.SiteBackground.playbackConfig,playbackUrl:n.santaTypesDefinitions.Media.SiteBackground.playbackUrl,style:n.santaTypesDefinitions.Component.style.isRequire,isExperimentOpen:n.santaTypesDefinitions.isExperimentOpen,renderType:n.santaTypesDefinitions.PublicModel.renderType},n.utils.santaTypesUtils.getSantaTypesByDefinition(o.components.html5Video)),statics:{behaviors:s.mediaBehaviors.fill},previousScroll:null,getInitialState:function(){return this.size={},{resetAttachment:!1,hidePrevious:!1,showMedia:!1}},callForBackgroundChange:function(t){var i={onComplete:function(){this.isPageChanged()&&(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,resetAttachment:!1,hidePrevious:!0}))}.bind(this)};this.props.actionsAspect.registerNextBGPageTransition(this,"previous","current",i),this.setState({previousPageBackground:t,resetAttachment:!0,hidePrevious:!1,currentVisiblePageId:null})},componentWillReceiveProps:function(t){if(this.props.currentUrlPageId!==t.currentUrlPageId){var i=this.props.mediaAspect.getPrevPageBackground()||this.props.compData;k(i,t.compData)?(e.result(this.refs,["previousVideo","kill"]),this.setState({previousPageBackground:null,currentVisiblePageId:this.state.currentVisiblePageId||this.props.compData.background.id})):this.callForBackgroundChange(e.assign(i.background,{renderParts:e.cloneDeep(this.props.renderParts),playbackConfig:e.cloneDeep(this.props.playbackConfig),playbackUrl:this.props.playbackUrl,playbackFormat:this.props.playbackFormat}))}},handleParallaxBehavior:function(e){var t=f(e,this.props);("parallax"===this.previousScroll||"parallax"===t)&&(this.previousScroll=t,"parallax"===t?this.props.actionsAspect.registerBehaviors("currentImage","siteBackground",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]):this.props.actionsAspect.unRegisterBehaviors("currentImage",[{action:"bgScrub",name:"SiteBackgroundParallax",duration:1,delay:0}]))},getClasses:function(){return""},isPageChanged:function(){return this.props.compData.background.id!==e.get(this.state,["previousPageBackground","id"])},createVideoComponent:function(t,i,n,s,o,a){var r="wysiwyg.viewer.components.background.html5Video",p="skins.viewer.bgVideo.html5VideoSkin",l="bgVideo",d=t.mediaRef,c="current"===i;if("WixVideo"!==e.get(d,"type"))return c&&this.setMediaAPI(null),null;var u=v(d.posterImageRef,this.props.isMobileView),h=this.props,m=h.isMobileView,f=h.isInSeo,b=y.getImageUrlPreMeasureParams(u,d.posterImageRef,t.fittingType,t.alignType,m,f);return this.createChildComponent(d,r,{skin:p,styleId:l},{id:this.props.id+i+"Video",parentId:this.props.id,key:"vid_"+d.videoId,style:{width:"100%",height:"100%"},notifyMediaState:this.onMediaChange,setMediaAPI:c?this.setMediaAPI:e.noop,videoRenderParts:n,playbackUrl:s,format:o,config:a,className:"siteBackground"+i+"Video",showMedia:this.state.showMedia,isPlayingAllowed:this.props.isPlayingAllowed,notifyVideoVisibility:c?this.notifyVideoVisibility:e.noop,posterWidth:u.width,posterHeight:u.height,shouldRenderSrc:this.props.shouldRenderSrc,imageUrlPreMeasureParams:b,fittingType:t.fittingType,alignType:t.alignType,compProp:e.pick(d,g.playback.SUPPORTED_MEDIA_ATTRIBUTES),wixVideoLayout:this.props.isExperimentOpen("bv_wixVideo")&&"bolt"===this.props.renderType})},notifyVideoVisibility:function(e){e!==this.state.showMedia&&this.setState({showMedia:e})},getSkinProperties:function(){var t=this.state.currentVisiblePageId||this.props.compData.background.id,i=e.get(this.state.previousPageBackground,"id","noPrev");i=i===t?"noPrev":i;var n=null,s=!this.props.isTouchDevice,o=void 0,a=void 0,r=void 0,p=this.props.id,l=this.props.compData.background,d=T(this.props,l),c={id:p+"_currentImage_"+t,style:d,"data-type":g.balataConsts.BG_IMAGE,"data-height":d.height};s&&((a=this.createVideoComponent(l,"current",this.props.renderParts.media.video,this.props.playbackUrl,this.props.playbackFormat,this.props.playbackConfig))||this.setMediaAPI(null)),this.state.previousPageBackground&&(r={id:p+"_previousImage_"+i,style:(n=this.state.previousPageBackground)?T(this.props,n):{}},s&&(o=this.createVideoComponent(n,"previous",n.renderParts.media.video,n.playbackUrl,n.playbackFormat,n.playbackConfig))),this.handleParallaxBehavior(l);var u=b(this.props,l,!1),h=this.props.style,m=h.minHeight,y={"":{id:p,style:{height:"100%",top:h.top,minHeight:m},className:this.getClasses(),"aria-hidden":this.state.isAriaHidden},current:{key:t+f(l,this.props)+this.props.componentViewMode,id:p+"_current_"+t,style:u,"data-position":u.position,"data-align":l.alignType,"data-fitting":l.fittingType},currentImage:c,currentVideo:a,currentOverlay:{id:p+"_currentOverlay_"+t,style:M(this.props,l)},previous:{key:i+f(n,this.props)+this.props.componentViewMode,id:p+"_previous_"+i,style:n?b(this.props,n,this.state.hidePrevious):{},"data-position":u.position,"data-align":e.get(n,"alignType",""),"data-fitting":e.get(n,"fittingType","")},previousImage:r,previousVideo:o,previousOverlay:{id:p+"_previousOverlay_"+i,style:n?M(this.props,n):{}}};return this.props.hideSiteBackground&&(y[""]["data-dead-comp"]=!0),y},setAriaHiddenState:function(e){this.setState({isAriaHidden:e})}};return a.compRegistrar.register("wysiwyg.viewer.components.SiteBackground",D),D}.apply(t,n))||(e.exports=s)},448:function(e,t,i){var n,s;n=[i(1),i(449),i(450)],void 0===(s=function(e,t,i){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.Repeater",i),e.jsonUpdaterRegistrar.registerLayouterComp("wysiwyg.viewer.components.Repeater",t)}.apply(t,n))||(e.exports=s)},449:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";var i=t.constants.COMP_LAYOUT_OPTIONS.REPEATER.ALIGNMENTS;function n(e,t,n,s){return e?function(e,t,n,s){switch(e){case i.LEFT:return 0;case i.RIGHT:return t;case i.CENTER:return t/2;case i.JUSTIFY:return t/(s>1?s-1:1)*n}}(e,t,n,s):0}var s={CardsLayoutProperties:function(t,s,o,a,r,p,l){var d=e.assign({},s.get(o[0]),a),c=t.getInnerPointer(r,["layout"]),u=s.get(c),h=p.alignment!==i.JUSTIFY?p.gap.horizontal:0,m=p.gap.vertical,g=u.width;l&&(g=l.width);var y=function(e,t,i){return e<t?1:Math.floor((e-t)/(t+i))+1}(g,d.width,h),f=Math.min(y,o.length),v=g-h*(f-1)-d.width*f,b=p.direction;if(e.transform(o,function(t,r,l){var c=l%y;if(l>=y){var u=m+(e.get(a,"height")||s.get(o[l-y]).height);t[c]+=u}var P=n(p.alignment,v,c,f),S=function(e,t,n){return e!==i.JUSTIFY?n*t:0}(p.alignment,c,h),T=c*d.width+P+S,k={y:t[c],x:"rtl"!==b?T:g-d.width-T};s.merge(r,e.defaults(k,a))},e.fill(Array(y),0)),g<d.width){var P=e.defaults({width:Math.max(g,d.width)},u);s.set(c,P)}}};return{setLayout:function(t,i,n,o,a){var r=i.get(t.getInnerPointer(n,["propertyQuery"])),p=i.get(t.data.getPropertyItem(r,t.components.getPageOfComponent(n).id)),l=t.components.getChildren(n);if(!e.isEmpty(l)&&p){var d=e.map(l,function(e){return t.getInnerPointer(e,["layout"])});s[p.type](t,i,d,o,n,p,a)}}}}.apply(t,n))||(e.exports=s)},450:function(e,t,i){var n,s;n=[i(0),i(1)],void 0===(s=function(e,t){"use strict";function i(t){return[t.id].concat(e.flatMap(t.components,i))}return function(n,s){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clear:e.noop,update:e.noop},a=s(n),r=n.components[0];if(!r||!a.dataItem)return n;if(e.isEmpty(a.dataItem.items))return e.defaults({components:[],layout:e.defaults({height:r.layout.height},n.layout)},n);var p=i(r);e.forEach(p,o.clear);var l=e.reduce(a.dataItem.items,function(e,i){return e.concat(t.displayedOnlyStructureUtil.getUniqueStructure(r,i,o.update))},[]);return e.defaults({components:l},n)}}.apply(t,n))||(e.exports=s)},451:function(e,t,i){var n,s;n=[i(1),i(452)],void 0===(s=function(e,t){"use strict";e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAWidget",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPASection",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAGluedWidget",t),e.jsonUpdaterRegistrar.registerPlugin("wysiwyg.viewer.components.tpapps.TPAMultiSection",t)}.apply(t,n))||(e.exports=s)},452:function(e,t,i){var n,s;n=[i(0),i(8),i(1)],void 0===(s=function(e,t,i){"use strict";function n(t){return e.get(t,["rendererModel","previewMode"])}function s(s,o){if(function(e,n){return i.renderUtils.isWidgetExcludedFromOOIPreview(e,n)&&!t.isOpen("sv_enableNativeComponentsWithBlacklist",n)}(o,s))return!1;var a=e.get(s,"renderFlags",{}),r=a.componentViewMode,p=a.shouldModifyTpaStructure,l=n(s)&&"preview"===r&&p;return t.isOpen("sv_editorNativeComponents",s)&&l}function o(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],r=function(t){var i=t&&e.isFunction(t.getClientSpecMap)?t.getClientSpecMap():e.get(t,"rendererModel.clientSpecMap");return i&&e.isFunction(i.toJS)?i.toJS():i}(o),p=e.isFunction(o.getQueryParams)?o.getQueryParams():{},l=e.get(a,"dataItem.widgetId"),d=e.get(a,"dataItem.applicationId");return!!l&&(!(!s(o,l)&&n(o))&&(!!t.isOpen("sv_nativeComponents",o)&&!!function(t,n,s,o){if(!(t&&t[n]&&t[n].widgets&&t[n].widgets[s]))return!1;var a=t[n].widgets[s];return e.get(a,"componentFields.componentUrl",!1)||i.scriptsOverridesService.getUrlOverrideForWidget(s,o.widgetsUrlOverride)}(r,d,l,p)))}return function(t,i,n,s){return o(s,i(t))?e.assign({},t,{componentType:"wysiwyg.viewer.components.tpapps.TPAWidgetNative",skin:"wysiwyg.viewer.skins.TPAWidgetNativeSkin"}):t}}.apply(t,n))||(e.exports=s)},453:function(e,t,i){var n,s;n=[i(1),i(3)],void 0===(s=function(e,t){"use strict";var i={displayName:"BgImageStrip",mixins:[t.mixins.skinBasedComp],getSkinProperties:function(){return{bg:{style:{},"data-align-type":this.props.compProp.alignType,"data-fitting-type":this.props.compProp.fittingType,"data-type":e.mediaConsts.balataConsts.BG_IMAGE}}}};return t.compRegistrar.register("wysiwyg.viewer.components.BgImageStrip",i),i}.apply(t,n))||(e.exports=s)},46:function(e,t){e.exports=h},49:function(e,t){e.exports=m},5:function(e,t){e.exports=o},6:function(e,t){e.exports=a},60:function(e,t){e.exports=g},69:function(e,t){e.exports=y},7:function(e,t){e.exports=r},8:function(e,t){e.exports=p},90:function(e,t,i){var n,s;n=[i(4),i(0),i(1),i(46),i(3),i(2)],void 0===(s=function(e,t,i,n,s,o){"use strict";var a=i.containerBackgroundUtils,r=i.mediaConsts.balataConsts,p=r.MEDIA,l=r.OVERLAY,d=r.UNDERLAY,c=r.MEDIA_PARAMS,u=r.MEDIA_PADDING_PARAMS,h=r.OVERLAY_PARAMS,m=r.COLOR_BG_PARAMS,g=function(e){return e?{WebkitClipPath:"inset(0)"}:{clip:"rect(0,auto,auto,0)"}};function y(e,n,s){var o=n[i.mediaConsts.balataConsts[e]]||{},a=t.get(s,["transforms",e],{}),r=t.merge({},o,a),p={};return r.opacity&&(p.opacity=r.opacity,r=t.omit(r,"opacity")),t.isEmpty(r)||(p.transform=t.reduce(r,function(e,t,i){return e+=i+"("+t+") "},"")),p}function f(e,i,n,s){var o={skin:c.skin,styleId:c.style},r=t.assign(function(e,t){return{position:a.getPositionByEffect(t,e.renderFixedPositionBackgrounds),pointerEvents:t?"none":"auto",width:"100%",height:"100%",top:0,left:0}}(e,s),y(p,n,i),e.designDataChangeAspect.cssScaleTransition),l={key:c.ref,style:r,id:e.id+c.ref,parentId:e.parentId,ref:c.ref,bgEffectName:s,mediaDimensions:e.mediaDimensions,filterEffect:n.filterEffect,fittingType:n.fittingType,alignType:n.alignType,mediaTransforms:n.mediaTransforms,enableVideo:e.enableVideo,notifyMediaState:e.notifyMediaState,registerStateChange:e.registerStateChange,unregisterStateChange:e.unregisterStateChange,renderParts:e.renderParts,playbackFormat:e.playbackFormat,playbackConfig:e.playbackConfig,playbackUrl:e.playbackUrl,setMediaAPI:e.setMediaAPI,compProp:e.compProp,isPlayingAllowed:e.isPlayingAllowed,isEditorMode:e.isEditorMode,shouldRenderSrc:e.shouldRenderSrc,imageUrlPreMeasureParams:e.imageUrlPreMeasureParams,playerStyle:e.playerStyle,getIsVisible:e.getIsVisible,addVisibilityStateListener:e.addVisibilityStateListener,addWebGLContext:e.addWebGLContext,removeWebGLContext:e.removeWebGLContext,rootId:e.rootId,wixImageLayout:e.isExperimentOpen("bv_wixImagePhaseTwo")&&"bolt"===e.renderType,wixVideoLayout:T(e)};return this.createChildComponent(n.mediaRef,c.comp,o,l)}function v(e){return t.get(e.compDesign,"background",t.get(e.compData,"background",{}))}function b(e,i,n,s){if(t.isEmpty(n))return null;var a=[],r=[];return a.push(function(e,t,i,n){var s={skin:m.skin,styleId:m.style},o={style:y(d,i,t),colorOverlay:i.color,colorOverlayOpacity:(a=i.colorOpacity,r=i.mediaRef,!r||"WixVideo"!==r.type&&"Video"!==r.type?a:0),bgEffectName:n,id:e.id+m.ref,ref:m.ref};var a,r;return this.createChildComponent(null,m.comp,s,o)}.call(this,e,i,n,s)),t.isEmpty(n.mediaRef)||r.push(f.call(this,e,i,n,s)),function(e){var t=e.mediaRef,i=e.imageOverlay||e.colorOverlay,n=e.showOverlayForMediaType||"WixVideo",s=t&&("all"===n||n===t.type);return!(!i||!s)}(n)&&r.push(function(e,i,n,s){var o={skin:h.skin,styleId:h.style},a={key:h.ref,style:y(l,n,i),colorOverlay:n.colorOverlay,colorOverlayOpacity:n.colorOverlayOpacity,imageOverlay:n.imageOverlay,bgEffectName:s,blendMode:t.get(n.overlayBlending,"blendMode"),blendModeOpacity:t.get(n.overlayBlending,"opacity"),id:e.id+h.ref,ref:h.ref};return this.createChildComponent(null,h.comp,o,a)}.call(this,e,i,n,s)),!function(e){var i=t.get(e.compProp,"mediaBackgroundPadding",{}),n=i.top,s=void 0===n?0:n,o=i.bottom,a=void 0===o?0:o,r=e.enableBackgroundPadding,p=s||a||"editor"===e.componentViewMode;return r&&p}(e)?a=a.concat(r):a.push(function(e,i,n){var s=t.get(e.compProp.mediaBackgroundPadding,"top",0),a=t.get(e.compProp.mediaBackgroundPadding,"bottom",0),r={key:u.ref,id:e.id+u.ref,ref:u.ref,style:{position:"absolute",width:"100%",height:"calc(100% - "+s+"px - "+a+"px)",top:s,bottom:a}};return t.assign(r.style,P(e,i)),o.utils.createReactElement("div",r,n)}(e,s,r)),a}function P(e,t){return S(e,t)?g(e.clipParallaxWithWebkitClipPath()):{}}function S(e,n){var s=v(e),o=i.containerBackgroundUtils.isFullScreenByEffect(n,!0),a="WixVideo"===t.get(s,["mediaRef","type"]);return o||a}function T(e){var i=v(e);return e.isExperimentOpen("bv_wixVideo")&&"bolt"===e.renderType&&!t.includes(t.get(i.mediaRef,"mediaFeatures"),"alpha")}var k={displayName:"Balata",mixins:[s.mixins.skinBasedComp,s.mixins.createChildComponentMixin],propTypes:t.defaults({id:e.string.isRequired,parentId:e.string.isRequired,compData:e.object,compDesign:e.object,compProp:e.object,compBehaviors:e.array,style:e.object,onClick:e.func,playerStyle:e.object,isDesktopDevice:o.santaTypesDefinitions.Device.isDesktopDevice.isRequired,isMobileView:o.santaTypesDefinitions.isMobileView.isRequired,componentViewMode:o.santaTypesDefinitions.RenderFlags.componentViewMode.isRequired,designDataChangeAspect:o.santaTypesDefinitions.SiteAspects.designDataChangeAspect.isRequired,renderFixedPositionBackgrounds:o.santaTypesDefinitions.RenderFlags.renderFixedPositionBackgrounds,clipParallaxWithWebkitClipPath:o.santaTypesDefinitions.BrowserFlags.clipParallaxWithWebkitClipPath,fixedBackgroundColorBalata:o.santaTypesDefinitions.BrowserFlags.fixedBackgroundColorBalata.isRequired,renderType:o.santaTypesDefinitions.PublicModel.renderType,isPlayingAllowed:e.PropTypes.bool,isEditorMode:e.PropTypes.bool,enableVideo:e.PropTypes.bool,enableBackgroundPadding:e.PropTypes.bool,notifyMediaState:e.PropTypes.func,registerStateChange:e.PropTypes.func,unregisterStateChange:e.PropTypes.func,setMediaAPI:e.PropTypes.func,playbackFormat:e.PropTypes.string,playbackConfig:e.PropTypes.object,playbackUrl:e.PropTypes.string,renderParts:e.PropTypes.object,getIsVisible:e.PropTypes.func,addVisibilityStateListener:e.PropTypes.func,addWebGLContext:e.PropTypes.func,removeWebGLContext:e.PropTypes.func},o.utils.santaTypesUtils.getSantaTypesByDefinition(n.components.bgMedia),o.utils.santaTypesUtils.getSantaTypesByDefinition(n.components.bgOverlay)),getInitialState:function(){return{transforms:{}}},componentWillReceiveProps:function(e){this.handleDesignDataBehaviors(e)},handleDesignDataBehaviors:function(e){var t=v(e),i=v(this.props);(this.setState({transforms:{}}),i.id!==t.id)&&this.props.designDataChangeAspect.notify(this.props.parentId,this.props.compDesign,e.compDesign)},getLayoutData:function(e,i){return{"data-page-id":this.props.rootId,"data-enable-video":this.props.enableVideo?"true":"","data-bg-effect-name":i||"","data-media-type":t.get(e,["mediaRef","type"],""),"data-use-clip-path":this.props.clipParallaxWithWebkitClipPath()||"","data-needs-clipping":S(this.props,i)||"","data-wix-video-layout":T(this.props)||""}},getSkinProperties:function(){var e=v(this.props),i=a.getBgEffectName(this.props.compBehaviors,this.props.isDesktopDevice(),this.props.isMobileView),n=b.call(this,this.props,this.state,e,i),s=P(this.props,i),o=t.assign({position:"absolute",top:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:i?"none":"auto"},s,this.props.style),r={"":t.assign({style:o,children:n,key:"balata_"+i},this.getLayoutData(e,i))};return this.props.onClick&&(r[""].onClick=this.props.onClick),r},getDefaultSkinName:function(){return"skins.viewer.balata.balataBaseSkin"}};return s.compRegistrar.register("wysiwyg.viewer.components.background.Balata",k),k}.apply(t,n))||(e.exports=s)}})});
//# sourceMappingURL=components.min.js.map